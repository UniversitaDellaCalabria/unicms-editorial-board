(function(t){function e(e){for(var i,o,l=e[0],n=e[1],d=e[2],u=0,m=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);c&&c(e);while(m.length)m.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,l=1;l<a.length;l++){var n=a[l];0!==s[n]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},s={app:0},r=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/static/unicms_editorial_board_vue/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],n=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var c=n;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0efd":function(t,e,a){"use strict";a("cd1f")},"56d7":function(t,e,a){"use strict";a.r(e);var i=a("2b0e"),s=a("bc3a"),r=a.n(s),o=a("2106"),l=a.n(o),n=a("5f5b"),d=a("b1e0"),c=a("4a7a"),u=a.n(c),m=a("0561"),p=a.n(m),h=a("8c4f"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"nav-open":t.$sidebar.showSidebar}},[a("notifications"),a("router-view")],1)},b=[],f={},g=f,v=(a("5c0b"),a("2877")),k=Object(v["a"])(g,_,b,!1,null,null,null),C=k.exports,w=(a("f9e3"),a("2dd8"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.tag,{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropDown,expression:"closeDropDown"}],tag:"li",staticClass:"dropdown nav-item",class:{show:t.isOpen},attrs:{"aria-haspopup":"true","aria-expanded":t.isOpen},on:{click:t.toggleDropDown}},[a("a",{staticClass:"nav-link dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[t._t("title",[a("i",{class:t.icon}),a("span",{staticClass:"no-icon"},[t._v(t._s(t.title))]),a("b",{staticClass:"caret"})])],2),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],staticClass:"dropdown-menu show"},[t._t("default")],2)])}),$=[],y={name:"base-dropdown",props:{title:String,icon:String,tag:{type:String,default:"li"}},data(){return{isOpen:!1}},methods:{toggleDropDown(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)},closeDropDown(){this.isOpen=!1,this.$emit("change",this.isOpen)}}},x=y,S=(a("9c5e"),Object(v["a"])(x,w,$,!1,null,"1b11b073",null)),j=S.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t.redis_alert?a("b-alert",{attrs:{dismissible:!!t.redis_alert.dismissable,show:"",variant:t.redis_alert.variant}},[t._v(" "+t._s(t.redis_alert.message)+" "),a("b-icon",{staticClass:"ml-2",attrs:{icon:"pencil-fill",animation:"cylon","font-scale":"1"}})],1):t._e(),t._l(t.alerts,(function(e){return a("b-alert",{attrs:{dismissible:!!e.dismissable,show:e.ttl||10,variant:e.variant}},[t._v(" "+t._s(e.message)+" ")])}))],2)])},z=[],E={name:"stacked-alerts",props:["alerts","redis_alert"]},O=E,P=Object(v["a"])(O,L,z,!1,null,null,null),M=P.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("b-alert",{attrs:{variant:"info",show:""}},[a("b-spinner",{staticClass:"mr-3",attrs:{small:"",type:"grow",label:"Loading...",variant:"info"}}),t._v(" saving your data... please wait ")],1):a("b-form",{on:{submit:t.submit}},[t._l(this.fields,(function(e){return a("b-form-group",{key:e.id,attrs:{id:"input-group-"+e.id,label:e.required?e.label+" *":e.label,"label-for":e.id,description:e.help_text}},["checkbox"==e.type?a("b-form-checkbox",{attrs:{id:e.id,name:e.id,required:!!e.required},model:{value:t.form[e.id],callback:function(a){t.$set(t.form,e.id,a)},expression:"form[field.id]"}}):"select"==e.type?a("div",[e.api_source?a("v-select",{attrs:{label:"text",reduce:function(t){return t.value},options:t.options[e.id],filterable:!1,id:e.id,multiple:!!e.multiple,required:!!e.required},on:{search:function(a){return t.fetchOptions(e.id,e.api_source,a)},"option:selected":function(a){return t.setSelected(e.id,a)}},scopedSlots:t._u([{key:"no-options",fn:function(e){var i=e.search;e.searching,e.loading;return[a("span",i?[t._v("No results for "),a("b",[t._v(t._s(i))])]:[t._v("This field is actually empty")])]}},{key:"list-footer",fn:function(){return[a("hr"),a("li",{staticStyle:{"text-align":"center",opacity:".8"}},[t._v(" Type to search... ")])]},proxy:!0}],null,!0),model:{value:t.form[e.id],callback:function(a){t.$set(t.form,e.id,a)},expression:"form[field.id]"}}):a("v-select",{attrs:{label:"text",reduce:function(t){return t.value},options:e.options,id:e.id,multiple:!!e.multiple,required:!!e.required},model:{value:t.form[e.id],callback:function(a){t.$set(t.form,e.id,a)},expression:"form[field.id]"}}),e.id in t.add_modal_fields?a("a",{staticClass:"btn btn-success btn-sm mt-2",on:{click:function(a){return t.openPopup(e.id)}}},[t._v(" Add new ")]):t._e(),e.id in t.files&&t.files[e.id]?a("div",{staticClass:"mt-3"},[a("p",[t._v("Selected")]),t.$is_image(t.files[e.id])?a("b-img",{staticClass:"w-25",attrs:{src:t.files[e.id],fluid:"",alt:e.label}}):a("p",[a("a",{attrs:{href:t.files[e.id]}},[t._v(" "+t._s(t.files[e.id])+" ")])])],1):t._e()],1):"textarea"==e.type&&t.rich_text_fields.includes(e.id)?a("ckeditor",{attrs:{editor:t.editor,id:e.id,config:t.editorConfig,required:!!e.required},model:{value:t.form[e.id],callback:function(a){t.$set(t.form,e.id,a)},expression:"form[field.id]"}}):"textarea"==e.type?a("b-form-textarea",{attrs:{id:e.id,rows:"1","max-rows":"25",required:!!e.required},model:{value:t.form[e.id],callback:function(a){t.$set(t.form,e.id,a)},expression:"form[field.id]"}}):"file"==e.type?a("div",[a("b-form-file",{attrs:{placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here..."},model:{value:t.form[e.id],callback:function(a){t.$set(t.form,e.id,a)},expression:"form[field.id]"}}),e.id in t.files&&t.files[e.id]?a("div",{staticClass:"mt-3"},[a("p",[t._v("Selected file")]),t.$is_image(t.files[e.id])?a("b-img",{staticClass:"w-25",attrs:{src:t.files[e.id],fluid:"",alt:e.label}}):a("p",[a("a",{attrs:{href:t.files[e.id]}},[t._v(" "+t._s(t.files[e.id])+" ")])])],1):t._e()],1):"datetime"==e.type?a("datetime",{staticClass:"form-control",attrs:{firstDayOfWeek:"1",format:"YYYY-MM-DD H:i",id:e.id,required:!!e.required},model:{value:t.form[e.id],callback:function(a){t.$set(t.form,e.id,a)},expression:"form[field.id]"}}):a("div",[t.tag_fields.includes(e.id)?a("b-form-tags",{attrs:{type:e.type,id:e.id,required:!!e.required},model:{value:t.form[e.id],callback:function(a){t.$set(t.form,e.id,a)},expression:"form[field.id]"}}):a("b-form-input",{attrs:{type:e.type,id:e.id,required:!!e.required},model:{value:t.form[e.id],callback:function(a){t.$set(t.form,e.id,a)},expression:"form[field.id]"}})],1)],1)})),a("b-button",{attrs:{type:"submit",block:"",variant:"success"}},[t._v("Save")]),a("b-modal",{attrs:{id:"modal-1",title:"BootstrapVue"}},[a("router-view",{attrs:{name:t.MediaNew}})],1)],2)},D=[],I=a("6930"),N=a.n(I),W=a("fb3d"),F=a.n(W),R=a("7891"),B={name:"django-form",components:{ckeditor:N.a.component,datetime:R["a"]},props:{form:String,submit:String,form_source:String,files:{default:{}},add_modal_fields:{default:{}},rich_text_fields:{default:[]},tag_fields:{default:[]}},data(){return{loading:!1,initial:{},options:{},selected:{},editor:F.a,editorConfig:{toolbar:{items:["heading","|","bold","italic","link","|","bulletedList","numberedList","|","indent","outdent","|","blockQuote","|","insertTable","undo","redo"]}},fields:[]}},methods:{getForm(){this.axios.get(this.form_source).then(t=>{this.fields=t.data})},fetchOptions(t,e,a){if(""!=a){let i=e.includes("?")?"&":"?";this.axios.get(e+i+"search="+a).then(e=>{this.$set(this.options,t,e.data.results)})}else this.selected[t]?this.$set(this.options,t,[this.selected[t]]):this.$set(this.options,t,this.initial[t])},setSelected(t,e){this.$set(this.selected,t,e)},getOptionsFromParent(t,e){this.$set(this.initial,t,e),this.$set(this.options,t,e)},openPopup(t){window.open(document.location.origin+"/editorial-board/"+this.add_modal_fields[t]+"?mode=raw",t,"directories=no,titlebar=no,toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=no,width=800,height=600")}},mounted(){this.getForm()}},A=B,X=Object(v["a"])(A,T,D,!1,null,null,null),H=X.exports;const q={install(t){t.component(j.name,j),t.component(H.name,H),t.component(M.name,M)}};var Y=q,V={bind:function(t,e,a){t.clickOutsideEvent=function(i){t==i.target||t.contains(i.target)||a.context[e.expression](i)},document.body.addEventListener("click",t.clickOutsideEvent)},unbind:function(t){document.body.removeEventListener("click",t.clickOutsideEvent)}};const G={install(t){t.directive("click-outside",V)}};var U=G,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"raw"!=t.mode?a("div",{staticClass:"sidebar",style:t.sidebarStyle,attrs:{"data-color":t.backgroundColor,"data-image":t.backgroundImage}},[a("div",{staticClass:"sidebar-wrapper"},[t._m(0),t._t("content"),a("ul",{staticClass:"nav nav-main__links"},[t._t("default",t._l(t.sidebarLinks,(function(e,i){return a("sidebar-link",{key:e.name+i,attrs:{to:e.path,link:e},on:{click:t.closeNavbar}},[a("i",{class:e.icon}),a("p",[t._v(t._s(e.name))])])})))],2),t.$slots["bottom-links"]?a("ul",{staticClass:"nav nav-bottom"},[t._t("bottom-links")],2):t._e()],2)]):t._e()},Q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logo"},[a("a",{staticClass:"simple-text logo__container",attrs:{href:"#"}},[t._v(" uniCMS ")])])}],K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(t.tag,t._b({tag:"component",attrs:{tag:"li"},nativeOn:{click:function(e){return t.hideSidebar(e)}}},"component",t.$attrs,!1),[a("a",t._b({staticClass:"nav-link"},"a",t.$attrs,!1),[t._t("default",[t.link.icon?a("i",{class:t.link.icon}):t._e(),a("p",[t._v(t._s(t.link.name))])])],2)])},Z=[],tt={inheritAttrs:!1,inject:{autoClose:{default:!0}},props:{link:{type:[String,Object],default:()=>({name:"",path:"",icon:""})},tag:{type:String,default:"router-link"}},methods:{hideSidebar(){this.autoClose&&this.$sidebar&&!0===this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}}},et=tt,at=Object(v["a"])(et,K,Z,!1,null,null,null),it=at.exports,st={components:{SidebarLink:it},data(){return{mode:""}},props:{title:{type:String,default:"Vue LBD"},backgroundColor:{type:String,default:"black",validator:t=>{let e=["","blue","azure","green","orange","red","purple","black"];return-1!==e.indexOf(t)}},backgroundImage:{type:String,default:"/static/unicms_editorial_board_vue/img/sidebar-5.jpg"},activeColor:{type:String,default:"success",validator:t=>{let e=["primary","info","success","warning","danger"];return-1!==e.indexOf(t)}},sidebarLinks:{type:Array,default:()=>[]},autoClose:{type:Boolean,default:!0}},provide(){return{autoClose:this.autoClose}},computed:{sidebarStyle(){return{backgroundImage:`url(${this.backgroundImage})`}}},mounted(){this.mode=this.$route.query.mode}},rt=st,ot=(a("0efd"),Object(v["a"])(rt,J,Q,!1,null,null,null)),lt=ot.exports;const nt={showSidebar:!1,sidebarLinks:[{name:"Dashboard",icon:"ti-panel",path:"/overview"}],displaySidebar(t){this.showSidebar=t}},dt={install(t){t.mixin({data(){return{sidebarStore:nt}}}),Object.defineProperty(t.prototype,"$sidebar",{get(){return this.$root.sidebarStore}}),t.component("side-bar",lt),t.component("sidebar-link",it)}};var ct=dt,ut=(a("e1b9"),a("c6e3"),{install(t){t.use(Y),t.use(U),t.use(ct)}}),mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},["raw"!=t.mode?a("side-bar",[a("mobile-menu",{attrs:{slot:"content"},slot:"content"}),a("sidebar-link",{attrs:{to:"/dashboard"}},[a("b-icon",{staticClass:"mr-4 ml-1",attrs:{icon:"graph-up",variant:"white",scale:"1.9"}}),a("p",[t._v("Dashboard")])],1),a("sidebar-link",{attrs:{to:"/blocks"}},[a("b-icon",{staticClass:"mr-4 ml-1",attrs:{icon:"bricks",variant:"white",scale:"1.9"}}),a("p",[t._v("Blocks")])],1),a("sidebar-link",{attrs:{to:"/calendars"}},[a("b-icon",{staticClass:"mr-4 ml-1",attrs:{icon:"calendar2-date",variant:"white",scale:"1.9"}}),a("p",[t._v("Calendars")])],1),a("sidebar-link",{attrs:{to:"/carousels"}},[a("b-icon",{staticClass:"mr-4 ml-1",attrs:{icon:"collection-play",variant:"white",scale:"1.9"}}),a("p",[t._v("Carousels")])],1),a("sidebar-link",{attrs:{to:"/contacts"}},[a("b-icon",{staticClass:"mr-4 ml-1",attrs:{icon:"person-lines-fill",variant:"white",scale:"1.9"}}),a("p",[t._v("Contacts")])],1),a("sidebar-link",{attrs:{to:"/events"}},[a("b-icon",{staticClass:"mr-4 ml-1",attrs:{icon:"calendar2-event",variant:"white",scale:"1.9"}}),a("p",[t._v("Events")])],1),a("sidebar-link",{attrs:{to:"/media"}},[a("b-icon",{staticClass:"mr-4 ml-1",attrs:{icon:"folder",variant:"white",scale:"1.9"}}),a("p",[t._v("Media")])],1),a("sidebar-link",{attrs:{to:"/media-collections"}},[a("b-icon",{staticClass:"mr-4 ml-1",attrs:{icon:"folder-check",variant:"white",scale:"1.9"}}),a("p",[t._v("Media collections")])],1),a("sidebar-link",{attrs:{to:"/menus"}},[a("b-icon",{staticClass:"mr-4 ml-1",attrs:{icon:"menu-button-wide-fill",variant:"white",scale:"1.9"}}),a("p",[t._v("Menus")])],1),a("sidebar-link",{attrs:{to:"/publications"}},[a("b-icon",{staticClass:"mr-4 ml-1",attrs:{icon:"file-earmark-text",variant:"white",scale:"1.9"}}),a("p",[t._v("Publications")])],1),a("sidebar-link",{attrs:{to:"/websites"}},[a("b-icon",{staticClass:"mr-4 ml-1",attrs:{icon:"globe",variant:"white",scale:"1.9"}}),a("p",[t._v("Websites")])],1)],1):t._e(),a("div",{staticClass:"main-panel"},[a("top-navbar"),a("dashboard-content",{on:{click:t.toggleSidebar}}),a("content-footer")],1)],1)},pt=[],ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"raw"!=t.mode?a("nav",{staticClass:"navbar navbar-expand-lg"},[a("div",{staticClass:"container-fluid"},[a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Editorial Board")]),a("button",{staticClass:"navbar-toggler navbar-toggler-right",class:{toggled:t.$sidebar.showSidebar},attrs:{type:"button","aria-controls":"navigation-index","aria-expanded":"false","aria-label":"Toggle navigation"},on:{click:t.toggleSidebar}},[a("span",{staticClass:"navbar-toggler-bar burger-lines"}),a("span",{staticClass:"navbar-toggler-bar burger-lines"}),a("span",{staticClass:"navbar-toggler-bar burger-lines"})]),t._m(0)])]):t._e()},_t=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collapse navbar-collapse justify-content-end"},[a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"/"}},[t._v(" Live site ")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"/saml2/logout"}},[t._v(" Logout ")])])])])}],bt={computed:{routeName(){const{name:t}=this.$route;return this.capitalizeFirstLetter(t)}},data(){return{activeNotifications:!1,mode:""}},methods:{capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)},toggleNotificationDropDown(){this.activeNotifications=!this.activeNotifications},closeDropDown(){this.activeNotifications=!1},toggleSidebar(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)},hideSidebar(){this.$sidebar.displaySidebar(!1)}},mounted(){this.mode=this.$route.query.mode}},ft=bt,gt=Object(v["a"])(ft,ht,_t,!1,null,null,null),vt=gt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"raw"!=t.mode?a("footer",{staticClass:"footer"},[a("div",{staticClass:"container-fluid"},[a("nav",[a("ul",{staticClass:"footer-menu"},[a("li",[a("router-link",{attrs:{to:{path:"/"}}},[t._v("Dashboard")])],1)])]),a("div",{staticClass:"copyright text-center"},[a("b-icon",{attrs:{icon:"github"}}),t._v(" Contribute to: "),a("a",{attrs:{href:"https://github.com/UniversitaDellaCalabria/uniCMS",target:"_blank"}},[t._v(" uniCMS ")]),t._v(" / "),a("a",{attrs:{href:"https://github.com/UniversitaDellaCalabria/unicms-editorial-board",target:"_blank"}},[t._v(" uniCMS editorial board ")])],1)])]):t._e()},Ct=[],wt={data(){return{mode:""}},mounted(){this.mode=this.$route.query.mode}},$t=wt,yt=Object(v["a"])($t,kt,Ct,!1,null,null,null),xt=yt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)},jt=[],Lt={},zt=Lt,Et=(a("78e8"),Object(v["a"])(zt,St,jt,!1,null,null,null)),Ot=Et.exports,Pt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Mt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav nav-mobile-menu"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"/"}},[a("span",{staticClass:"no-icon"},[t._v("Live site")])])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"/saml2/logout"}},[a("span",{staticClass:"no-icon"},[t._v("Log out")])])])])}],Tt={name:"mobile-menu"},Dt=Tt,It=Object(v["a"])(Dt,Pt,Mt,!1,null,null,null),Nt=It.exports,Wt={components:{TopNavbar:vt,ContentFooter:xt,DashboardContent:Ot,MobileMenu:Nt},data(){return{mode:""}},methods:{toggleSidebar(){this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}},mounted(){this.mode=this.$route.query.mode}},Ft=Wt,Rt=Object(v["a"])(Ft,mt,pt,!1,null,null,null),Bt=Rt.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-12"},[a("b-card",{attrs:{title:"404 Not Found"}},[a("b-card-text",{staticClass:"mt-4"},[a("p",[t._v("The page you are trying to access does not exist")])])],1)],1)])])])},Xt=[],Ht={},qt=Object(v["a"])(Ht,At,Xt,!1,null,null,null),Yt=qt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{attrs:{to:"#"}},[t._v(" Manage ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"globe",scale:"0.8"}}),t._v(" Nome ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t._v("xxx")])])],1)],1),a("div",{staticClass:"col-lg-3 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{attrs:{to:"#"}},[t._v(" Manage ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"globe",scale:"0.8"}}),t._v(" Nome ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t._v("xxx")])])],1)],1),a("div",{staticClass:"col-lg-3 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{attrs:{to:"#"}},[t._v(" Manage ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"globe",scale:"0.8"}}),t._v(" Nome ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t._v("xxx")])])],1)],1),a("div",{staticClass:"col-lg-3 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{attrs:{to:"#"}},[t._v(" Manage ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"globe",scale:"0.8"}}),t._v(" Nome ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t._v("xxx")])])],1)],1),a("div",{staticClass:"col-lg-3 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{attrs:{to:"#"}},[t._v(" Manage ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"globe",scale:"0.8"}}),t._v(" Nome ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t._v("xxx")])])],1)],1),a("div",{staticClass:"col-lg-3 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{attrs:{to:"#"}},[t._v(" Manage ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"globe",scale:"0.8"}}),t._v(" Nome ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t._v("xxx")])])],1)],1)])])])},Gt=[],Ut={},Jt=Object(v["a"])(Ut,Vt,Gt,!1,null,null,null),Qt=(Jt.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"CalendarNew"}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"childs",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"CalendarEvents",params:{calendar_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"list-ul",variant:"secondary"}}),t._v(" Events ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"CalendarLocalizations",params:{calendar_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)]}},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"CalendarEdit",params:{calendar_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-secondary",attrs:{to:{name:"CalendarLocks",params:{calendar_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"lock",variant:"white"}}),t._v(" Allowed users ")],1)]}}])})}),Kt=[],Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:t.page_title}},[a("b-card-text",[t._t("text"),a("div",{staticClass:"text-right mb-3"},[t._t("add_new")],2),a("div",{staticClass:"row pt-3"},[a("div",{staticClass:"col col-12 col-sm"},[a("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"Search...",type:"search"},on:{input:function(e){return t.callApi(null,1)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.showIsActive?a("div",{staticClass:"col col-12 col-sm"},[a("IsActiveFilter",{attrs:{is_active:t.is_active},on:{updateIsActive:function(e){t.is_active=e},callApi:function(e){return t.callApi(null,1)}}})],1):t._e(),t.showCreatedBy?a("div",{staticClass:"col col-12 col-sm"},[a("CreatedByFilter",{attrs:{created_by:t.created_by,created_by_list:t.created_by_list},on:{updateCreatedBy:function(e){t.created_by=e},callApi:function(e){return t.callApi(null,1)}}})],1):t._e(),t._t("custom_filter"),a("div",{staticClass:"col col-12 col-md-4"},[a("OrderingFilter",{attrs:{ordering:t.ordering,ordering_list:t.ordering_list,sortDesc:t.sortDesc},on:{updateOrdering:function(e){t.ordering=e},updateSortDesc:function(e){t.sortDesc=e},callApi:function(e){return t.callApi(null,t.page)}}})],1)],2),t.isBusy?t._e():a("b-pagination",{attrs:{"total-rows":t.total_rows,"per-page":t.per_page,"first-number":"","last-number":"",align:"right","aria-controls":"my-table"},on:{change:t.changePage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}}),a("b-table",{ref:"table",attrs:{id:"my-table",striped:"",hover:"",responsive:"",busy:t.isBusy,fields:t.fields,items:t.items,"current-page":t.page},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle mr-3",attrs:{small:"",type:"grow"}}),a("strong",[t._v("loading data...")])],1)]},proxy:!0},{key:"cell(state)",fn:function(e){return[t._t("state",null,{data:e})]}},{key:"cell(is_active)",fn:function(e){return[t._t("activation",[e.value?a("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"check-circle-fill",variant:"success"},on:{click:function(a){return t.changeStatus(e.item)}}}):a("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"dash-circle-fill",variant:"danger"},on:{click:function(a){return t.changeStatus(e.item)}}})],{data:e})]}},{key:"cell(childs)",fn:function(e){return[t._t("childs",null,{item:e.item})]}},{key:"cell(actions)",fn:function(e){return[t._t("actions",null,{item:e.item}),a("b-button",{staticClass:"btn-block",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteModal(e.item)}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)]}},{key:"cell()",fn:function(e){return[t.files&&t.isFile(e.field.key)&&e.value?a("div",[Object.keys(e.value).includes("file")&&!e.value.file?a("span",[t._v(" - ")]):t.$is_image(e.value)?a("b-img",{staticStyle:{"max-width":"220px"},attrs:{src:e.value.file||e.value,alt:"Responsive image"}}):a("a",{attrs:{href:e.value.file||e.value,title:e.value.file||e.value}},[a("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"file-text"}})],1)],1):t.arrays&&t.isArray(e.field.key)&&e.value?a("span",t._l(e.value,(function(i){return a("div",[t._v(" "+t._s(i[t.getArrayMap(e.field.key)])+" ")])})),0):t.dates&&t.isDate(e.field.key)&&e.value?a("span",[t._v(" "+t._s(t.$date_formatter(e.value))+" ")]):a("span",[t._v(t._s(e.value||"-"))])]}}],null,!0)}),t.isBusy?t._e():a("b-pagination",{attrs:{"total-rows":t.total_rows,"per-page":t.per_page,"first-number":"","last-number":"",align:"right"},on:{change:t.changePage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],2)],1)],1)])],1)])},te=[],ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-input-group",[a("b-form-select",{staticClass:"mb-3",attrs:{id:"created-by-select",options:t.created_by_list,"aria-describedby":t.ariaDescribedby},on:{change:function(e){return t.updateCreatedBy()}},model:{value:t.created_by,callback:function(e){t.created_by=e},expression:"created_by"}})],1)},ae=[],ie={name:"CreatedByFilter",props:{created_by:{type:String},created_by_list:{type:Array}},methods:{updateCreatedBy(){this.$emit("updateCreatedBy",this.created_by),this.$emit("callApi")}}},se=ie,re=Object(v["a"])(se,ee,ae,!1,null,null,null),oe=re.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-input-group",[a("b-form-select",{staticClass:"mb-3",attrs:{id:"created-by-select",options:t.state_list,"aria-describedby":t.ariaDescribedby},on:{change:function(e){return t.updateIsActive()}},model:{value:t.is_active,callback:function(e){t.is_active=e},expression:"is_active"}})],1)},ne=[],de={name:"CreatedByFilter",props:{is_active:{type:String}},data(){return{state_list:[{text:"Show all items",value:""},{text:"Only active",value:1},{text:"Only inactive",value:0}]}},methods:{updateIsActive(){this.$emit("updateIsActive",this.is_active),this.$emit("callApi")}}},ce=de,ue=Object(v["a"])(ce,le,ne,!1,null,null,null),me=ue.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-input-group",[a("b-form-select",{staticClass:"w-75 mb-3",attrs:{id:"sort-by-select",options:t.ordering_list,"aria-describedby":t.ariaDescribedby},on:{change:function(e){return t.updateOrderedBy()}},model:{value:t.ordering,callback:function(e){t.ordering=e},expression:"ordering"}}),a("b-form-select",{staticClass:"w-25",attrs:{"aria-describedby":t.ariaDescribedby},on:{change:function(e){return t.updateOrderedBy()}},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[a("option",{attrs:{value:""}},[t._v("Asc")]),a("option",{attrs:{value:"-"}},[t._v("Desc")])])],1)},he=[],_e={name:"OrderingFilter",props:{ordering_list:{type:Array},sortDesc:{type:String},ordering:{type:String}},methods:{updateOrderedBy(){this.$emit("updateOrdering",this.ordering),this.$emit("updateSortDesc",this.sortDesc),this.$emit("callApi")}}},be=_e,fe=Object(v["a"])(be,pe,he,!1,null,null,null),ge=fe.exports,ve={name:"CompleteTable",components:{CreatedByFilter:oe,IsActiveFilter:me,OrderingFilter:ge},props:{api_source:{type:String},arrays:{type:Array},arrays_map:{type:Array},dates:{type:Array},fields:{type:Array},files:{type:Array},images:{type:Array},mainMethod:{type:Function},ordering:{type:String,default:"id"},ordering_list:{type:Array},page_title:{type:String},showCreatedBy:{type:Boolean,default:!0},showIsActive:{type:Boolean,default:!0}},data(){return{alerts:this.$route.params.alerts||[],isBusy:!0,items:[],page:1,per_page:0,total_rows:0,next:"",parent_name:this.$parent.api_source,prev:"",search:"",sortDesc:"",is_active:"",created_by:"",created_by_list:[{text:"Only items created by me",value:""},{text:"Show all items",value:""}],custom_filters:{}}},methods:{isDate(t){return 0!==this.dates.filter(e=>e===t).length},isFile(t){return 0!==this.files.filter(e=>e===t).length},isArray(t){return 0!==this.arrays.filter(e=>e===t).length},getArrayMap(t){for(let e=0;e<this.arrays_map.length;e++)if(this.arrays_map[e][t])return this.arrays_map[e][t]},getCurrentUserID(t=!0){this.axios.get("/api/editorial-board/users/current/").then(e=>{sessionStorage.getItem(this.parent_name)||(this.created_by=e.data[0]),this.$set(this.created_by_list[0],"value",e.data[0]),t&&this.callApi(null)})},callApi(t=null,e=null){if(this.mainMethod)this.mainMethod(t,e);else{let a=e||this.page,i=this.api_source+"?page="+a+"&search="+this.search+"&ordering="+this.sortDesc+this.ordering+"&created_by="+this.created_by+"&is_active="+this.is_active;for(let[t,e]of Object.entries(this.custom_filters)){let a="&"+t+"="+e;i=i.concat(a)}t&&(i=t),this.axios.get(i).then(t=>{this.items=t.data.results,this.per_page=t.data.per_page,this.prev=t.data.previous,this.next=t.data.next,this.total_rows=t.data.count,this.page=t.data.page,this.isBusy=!1;let e={page:this.page,is_active:this.is_active,search:this.search,ordering:this.ordering,sortDesc:this.sortDesc,created_by:this.created_by};for(let[a,i]of Object.entries(this.custom_filters))e[a]=i;sessionStorage.setItem(this.parent_name,JSON.stringify(e))})}},changeStatus(t){this.axios.patch(this.api_source+t.id+"/",{is_active:!t.is_active},{headers:{"X-CSRFToken":this.$csrftoken}}).then(e=>{t.is_active=e.data.is_active,this.alerts.push({variant:"success",message:"item status changed successfully",dismissable:!0})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},remove(t){this.axios.delete(this.api_source+t+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(e=>{this.items.splice(this.items.findIndex(e=>e.id===t),1),this.alerts.push({variant:"success",message:"item removed successfully",dismissable:!0})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(t){this.$bvModal.msgBoxConfirm("Do you want really delete item?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(e=>{e&&this.remove(t.id)})},changePage(t){this.page=t,this.isBusy=!0,this.callApi(null)}},mounted(){if(sessionStorage.getItem(this.parent_name)){let t=JSON.parse(sessionStorage.getItem(this.parent_name));this.is_active=t["is_active"],delete t["is_active"],this.page=t["page"],delete t["page"],this.search=t["search"],delete t["search"],this.ordering=t["ordering"],delete t["ordering"],this.created_by=t["created_by"],delete t["created_by"],this.sortDesc=t["sortDesc"],delete t["sortDesc"];for(let[e,a]of Object.entries(t))this.custom_filters[e]=a}this.showCreatedBy?this.getCurrentUserID():this.callApi(null)}},ke=ve,Ce=Object(v["a"])(ke,Zt,te,!1,null,null,null),we=Ce.exports,$e={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/calendars/",fields:["id","name","description",{key:"is_active",label:"Active"},{key:"childs",label:"Related"},"actions"],ordering:"name",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Description",value:"description"}],page_title:"Calendars"}}},ye=$e,xe=Object(v["a"])(ye,Qt,Kt,!1,null,null,null),Se=xe.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},["raw"!=t.$route.query.mode?a("Breadcrumbs"):t._e(),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New calendar"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Le=[],ze={data(){return{alerts:[],form:{},form_source:"/api/editorial-board/calendars/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/calendars/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"calendar added successfully",dismissable:!0}),"raw"!=this.$route.query.mode&&this.$router.push({name:"Calendars",params:{alerts:this.alerts}}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Ee=ze,Oe=Object(v["a"])(Ee,je,Le,!1,null,null,null),Pe=Oe.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CalendarLogs",params:{calendar_id:t.calendar_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CalendarEvents",params:{calendar_id:t.calendar_id}}}},[a("b-icon",{attrs:{icon:"list-ul",variant:"secondary"}}),t._v(" Events ")],1),a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CalendarLocalizations",params:{calendar_id:t.calendar_id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:this.form,submit:t.onSubmit,form_source:this.form_source}})],1)],1)],1)])],1)])},Te=[],De={data(){return{alerts:[],calendar_id:this.$route.params.calendar_id,form:{},form_source:"/api/editorial-board/calendars/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.name},getItem(){let t="/api/editorial-board/calendars/"+this.calendar_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.calendar_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.calendar_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/calendars/"+this.calendar_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"calendar edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/calendars/"+this.calendar_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"calendar removed successfully",dismissable:!0}),this.$router.push({name:"Calendars",params:{alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete calendar?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},Ie=De,Ne=Object(v["a"])(Ie,Me,Te,!1,null,null,null),We=Ne.exports,Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Re=[],Be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering_list:t.ordering_list,page_title:t.page_title,dates:t.dates,showCreatedBy:!1}})},Ae=[],Xe={components:{CompleteTable:we},props:{api_source:{type:String},page_title:{type:String}},data(){return{fields:["id","user",{key:"change_message",label:"Action"},{key:"action_time",label:"Date"}],dates:["action_time"],ordering_list:[{text:"Id",value:"id"},{text:"User",value:"user"},{text:"Date",value:"action_time"}]}}},He=Xe,qe=Object(v["a"])(He,Be,Ae,!1,null,null,null),Ye=qe.exports,Ve={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/calendars/"+this.$route.params.calendar_id+"/logs/",page_title:"Calendar logs"}}},Ge=Ve,Ue=Object(v["a"])(Ge,Fe,Re,!1,null,null,null),Je=Ue.exports,Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLocks",{attrs:{object_api:t.object_api,object_id:t.object_id,page_title:t.page_title,addNewClass:t.addNewClass}})},Ke=[],Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{ref:"completeTable",attrs:{api_source:t.api_source,fields:t.fields,dates:t.dates,ordering_list:t.ordering_list,page_title:t.page_title,mainMethod:t.callApi,showCreatedBy:!1,showIsActive:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:t.addNewClass,params:{object_id:t.object_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0}])})},ta=[],ea={name:"ObjectLocks",components:{CompleteTable:we},props:{object_id:{type:String},object_api:{type:String},page_title:{type:String},addNewClass:{type:String}},data(){return{api_source:"",content_type:"",fields:["id","user",,{key:"lock.locked_time",label:"Lock date"},"actions"],dates:["lock.locked_time"],ordering_list:[{text:"Id",value:"id"},{text:"User",value:"user"}],page_title:"Menu locks"}},methods:{callApi(t,e=null){let a=e||this.$refs.completeTable.page,i=this.object_api;t&&(i=t),this.axios.get(i).then(t=>{this.content_type=t.data.object_content_type,this.api_source="/api/editorial-board/locks/"+this.content_type+"/"+this.object_id+"/";let e=this.api_source+"?page="+a+"&search="+this.$refs.completeTable.search+"&ordering="+this.$refs.completeTable.sortDesc+this.$refs.completeTable.ordering;this.axios.get(e).then(t=>{this.$refs.completeTable.items=t.data.results,this.$refs.completeTable.per_page=t.data.per_page,this.$refs.completeTable.prev=t.data.previous,this.$refs.completeTable.next=t.data.next,this.$refs.completeTable.total_rows=t.data.count,this.$refs.completeTable.page=t.data.page,this.$refs.completeTable.isBusy=!1;let e={is_active:this.$refs.completeTable.is_active,page:this.$refs.completeTable.page,search:this.$refs.completeTable.search,ordering:this.$refs.completeTable.ordering,sortDesc:this.$refs.completeTable.sortDesc,created_by:this.$refs.completeTable.created_by};sessionStorage.setItem(this.$refs.completeTable.parent_name,JSON.stringify(e))})})}}},aa=ea,ia=Object(v["a"])(aa,Ze,ta,!1,null,null,null),sa=ia.exports,ra={components:{ObjectLocks:sa},data(){return{addNewClass:"CalendarLockNew",object_api:"/api/editorial-board/calendars/"+this.$route.params.calendar_id+"/",object_id:this.$route.params.calendar_id,page_title:"Calendar locks"}}},oa=ra,la=Object(v["a"])(oa,Qe,Ke,!1,null,null,null),na=la.exports,da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},ca=[],ua={data(){return{alerts:[],calendar_id:this.$route.params.calendar_id,form:{},form_source:"/api/editorial-board/users/form/"}},methods:{retrieveObject(){let t="/api/editorial-board/calendars/"+this.calendar_id+"/";this.axios.get(t).then(t=>{this.content_type=t.data.object_content_type}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/locks/"+this.content_type+"/"+this.calendar_id+"/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"lock added successfully",dismissable:!0}),this.$router.push({name:"CalendarLocks",params:{calendar_id:this.calendar_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},mounted(){this.retrieveObject()}},ma=ua,pa=Object(v["a"])(ma,da,ca,!1,null,null,null),ha=pa.exports,_a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,files:t.files,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"CalendarEventNew",params:{calendar_id:t.calendar_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"EventEdit",params:{event_id:e.item.event.id}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to event ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"CalendarEventEdit",params:{calendar_id:t.calendar_id,calendar_event_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},ba=[],fa={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/calendars/"+this.$route.params.calendar_id+"/events/",calendar_id:this.$route.params.calendar_id,fields:["id",{key:"event.publication_data.preview_image",label:"Preview image",thClass:"w-25"},{key:"event.publication_data.presentation_image",label:"Image",tthClass:"w-25"},{key:"event.publication_data.name",label:"Name"},{key:"event.publication_data.title",label:"Title"},"order",{key:"is_active",label:"Active"},"actions"],files:["event.publication_data.preview_image","event.publication_data.presentation_image"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"event__publication__name"},{text:"Title",value:"event__publication__title"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Calendar events"}}},ga=fa,va=Object(v["a"])(ga,_a,ba,!1,null,null,null),ka=va.exports,Ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},wa=[],$a={data(){return{alerts:[],calendar_id:this.$route.params.calendar_id,form:{calendar:parseInt(this.$route.params.calendar_id)},form_source:"/api/editorial-board/calendars/"+this.$route.params.calendar_id+"/events/form/",add_modal_fields:{publication:this.$router.resolve({name:"PublicationNew"}).href}}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/calendars/"+this.calendar_id+"/events/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"calendar event added successfully",dismissable:!0}),this.$router.push({name:"CalendarEvents",params:{calendar_id:this.calendar_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},ya=$a,xa=Object(v["a"])(ya,Ca,wa,!1,null,null,null),Sa=xa.exports,ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CalendarEventLogs",params:{calendar_id:t.calendar_id,calendar_event_id:t.calendar_event_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},La=[],za={data(){return{alerts:[],calendar_id:this.$route.params.calendar_id,calendar_event_id:this.$route.params.calendar_event_id,form:{},form_source:"/api/editorial-board/calendars/"+this.$route.params.calendar_id+"/events/form/",add_modal_fields:{event:this.$router.resolve({name:"EventNew"}).href},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"calendar"==e||"event"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.page_title=t.event.publication_data.title,this.$refs.form.getOptionsFromParent("event",[{text:t.event.publication_data.title,value:t.event.id}])},getItem(){let t="/api/editorial-board/calendars/"+this.calendar_id+"/events/"+this.calendar_event_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.calendar_event_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.calendar_event_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/calendars/"+this.calendar_id+"/events/"+this.calendar_event_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"calendar event edited successfully",dismissable:!0}),this.page_title=t.data.event.publication_data.title,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/calendars/"+this.calendar_id+"/events/"+this.calendar_event_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"calendar event removed successfully",dismissable:!0}),this.$router.push({name:"CalendarEvents",params:{calendar_id:this.calendar_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete calendar event?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},Ea=za,Oa=Object(v["a"])(Ea,ja,La,!1,null,null,null),Pa=Oa.exports,Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Ta=[],Da={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/calendars/"+this.$route.params.calendar_id+"/events/"+this.$route.params.calendar_event_id+"/logs/",page_title:"Calendar event logs"}}},Ia=Da,Na=Object(v["a"])(Ia,Ma,Ta,!1,null,null,null),Wa=Na.exports,Fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"CalendarLocalizationNew",params:{calendar_id:t.calendar_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"CalendarLocalizationEdit",params:{calendar_id:t.calendar_id,calendar_localization_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},Ra=[],Ba={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/calendars/"+this.$route.params.calendar_id+"/localizations/",calendar_id:this.$route.params.calendar_id,fields:["id","language","name","description","order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Language",value:"language"},{text:"Name",value:"name"},{text:"Description",value:"description"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Calendar localizations"}}},Aa=Ba,Xa=Object(v["a"])(Aa,Fa,Ra,!1,null,null,null),Ha=Xa.exports,qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"Edit"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Ya=[],Va={data(){return{alerts:[],calendar_id:this.$route.params.calendar_id,form:{calendar:parseInt(this.$route.params.calendar_id)},form_source:"/api/editorial-board/calendars/"+this.$route.params.calendar_id+"/localizations/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/calendars/"+this.calendar_id+"/localizations/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"calendar localization added successfully",dismissable:!0}),this.$router.push({name:"CalendarLocalizations",params:{calendar_id:this.calendar_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Ga=Va,Ua=Object(v["a"])(Ga,qa,Ya,!1,null,null,null),Ja=Ua.exports,Qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CalendarLocalizationLogs",params:{calendar_id:t.calendar_id,calendar_localization_id:t.calendar_localization_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Ka=[],Za={data(){return{alerts:[],calendar_id:this.$route.params.calendar_id,calendar_localization_id:this.$route.params.calendar_localization_id,form:{},form_source:"/api/editorial-board/calendars/"+this.$route.params.calendar_id+"/localizations/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.name},getItem(){let t="/api/editorial-board/calendars/"+this.$route.params.calendar_id+"/localizations/"+this.calendar_localization_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.calendar_localization_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.calendar_localization_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/calendars/"+this.$route.params.calendar_id+"/localizations/"+this.calendar_localization_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.pre_heading+" "+t.data.heading,this.alerts.push({variant:"success",message:"calendar localization edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/calendars/"+this.calendar_id+"/localizations/"+this.calendar_localization_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"calendar localization removed successfully",dismissable:!0}),this.$router.push({name:"CalendarLocalizations",params:{calendar_id:this.calendar_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete calendar localization?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},ti=Za,ei=Object(v["a"])(ti,Qa,Ka,!1,null,null,null),ai=ei.exports,ii=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},si=[],ri={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/calendars/"+this.$route.params.calendar_id+"/localizations/"+this.$route.params.calendar_localization_id+"/logs/",page_title:"Calendar localization logs"}}},oi=ri,li=Object(v["a"])(oi,ii,si,!1,null,null,null),ni=li.exports,di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,dates:t.dates,fields:t.fields,files:t.files,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"EventNew"}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"PublicationEdit",params:{publication_id:e.item.publication}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to publication ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"EventEdit",params:{event_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-secondary",attrs:{to:{name:"EventLocks",params:{event_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"lock",variant:"white"}}),t._v(" Allowed users ")],1)]}}])})},ci=[],ui={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/events/",fields:["id",{key:"publication_data.name",label:"Name"},{key:"publication_data.title",label:"Title"},{key:"publication_data.preview_image",label:"Preview image",thClass:"w-25"},{key:"publication_data.presentation_image",label:"Image",tthClass:"w-25"},{key:"date_start",label:"Start"},{key:"date_end",label:"End"},{key:"order",label:"Order"},{key:"is_active",label:"Active"},"actions"],dates:["date_start","date_end"],files:["publication_data.preview_image","publication_data.presentation_image"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"publication__name"},{text:"Title",value:"publication__title"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Events"}}},mi=ui,pi=Object(v["a"])(mi,di,ci,!1,null,null,null),hi=pi.exports,_i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},["raw"!=t.$route.query.mode?a("Breadcrumbs"):t._e(),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New event"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,add_modal_fields:t.add_modal_fields,form_source:t.form_source}})],1)],1)],1)])],1)])},bi=[],fi={data(){return{alerts:[],form:{},form_source:"/api/editorial-board/events/form/",add_modal_fields:{publication:this.$router.resolve({name:"PublicationNew"}).href}}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/events/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"event added successfully",dismissable:!0}),"raw"!=this.$route.query.mode&&this.$router.push({name:"Events",params:{alerts:this.alerts}}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},gi=fi,vi=Object(v["a"])(gi,_i,bi,!1,null,null,null),ki=vi.exports,Ci=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"EventLogs",params:{event_id:t.event_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:this.form,submit:t.onSubmit,add_modal_fields:t.add_modal_fields,form_source:this.form_source}})],1)],1)],1)])],1)])},wi=[],$i={data(){return{alerts:[],event_id:this.$route.params.event_id,form:{},form_source:"/api/editorial-board/events/form/",page_title:"",redis_alert:null,interval:null,date_fields:["date_start","date_end"],add_modal_fields:{publication:this.$router.resolve({name:"PublicationNew"}).href}}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.date_fields.includes(e)&&a?this.$set(this.form,e,a.substr(0,16).replace("T"," ")):this.$set(this.form,e,a);this.page_title=t.publication_data.title,this.$refs.form.getOptionsFromParent("publication",[{text:t.publication_data.title,value:t.publication}])},getItem(){let t="/api/editorial-board/events/"+this.event_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.event_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.event_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/events/"+this.event_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"event edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/events/"+this.event_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"event removed successfully",dismissable:!0}),this.$router.push({name:"Events",params:{alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete event?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},yi=$i,xi=Object(v["a"])(yi,Ci,wi,!1,null,null,null),Si=xi.exports,ji=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Li=[],zi={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/events/"+this.$route.params.event_id+"/logs/",page_title:"Event logs"}}},Ei=zi,Oi=Object(v["a"])(Ei,ji,Li,!1,null,null,null),Pi=Oi.exports,Mi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Ti=[],Di={data(){return{alerts:[],event_id:this.$route.params.event_id,form:{},form_source:"/api/editorial-board/users/form/"}},methods:{retrieveObject(){let t="/api/editorial-board/events/"+this.event_id+"/";this.axios.get(t).then(t=>{this.content_type=t.data.object_content_type}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/locks/"+this.content_type+"/"+this.event_id+"/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"lock added successfully",dismissable:!0}),this.$router.push({name:"EventLocks",params:{event_id:this.event_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},mounted(){this.retrieveObject()}},Ii=Di,Ni=Object(v["a"])(Ii,Mi,Ti,!1,null,null,null),Wi=Ni.exports,Fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLocks",{attrs:{object_api:t.object_api,object_id:t.object_id,page_title:t.page_title,addNewClass:t.addNewClass}})},Ri=[],Bi={components:{ObjectLocks:sa},data(){return{addNewClass:"EventLockNew",object_api:"/api/editorial-board/events/"+this.$route.params.event_id+"/",object_id:this.$route.params.event_id,page_title:"Event locks"}}},Ai=Bi,Xi=Object(v["a"])(Ai,Fi,Ri,!1,null,null,null),Hi=Xi.exports,qi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"CarouselNew"}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"childs",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"CarouselItems",params:{carousel_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"list-ul",variant:"secondary"}}),t._v(" Items ")],1)]}},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"CarouselEdit",params:{carousel_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-secondary",attrs:{to:{name:"CarouselLocks",params:{carousel_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"lock",variant:"white"}}),t._v(" Allowed users ")],1)]}}])})},Yi=[],Vi={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/carousels/",fields:["id","name","description",{key:"is_active",label:"Active"},{key:"childs",label:"Related"},"actions"],ordering:"name",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Description",value:"description"}],page_title:"Carousels"}}},Gi=Vi,Ui=Object(v["a"])(Gi,qi,Yi,!1,null,null,null),Ji=Ui.exports,Qi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},["raw"!=t.$route.query.mode?a("Breadcrumbs"):t._e(),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New carousel"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Ki=[],Zi={data(){return{alerts:[],form:{},form_source:"/api/editorial-board/carousels/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/carousels/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"carousel added successfully",dismissable:!0}),"raw"!=this.$route.query.mode&&this.$router.push({name:"Carousels",params:{alerts:this.alerts}}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},ts=Zi,es=Object(v["a"])(ts,Qi,Ki,!1,null,null,null),as=es.exports,is=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CarouselLogs",params:{carousel_id:t.carousel_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CarouselItems",params:{carousel_id:t.carousel_id}}}},[a("b-icon",{attrs:{icon:"list-ul",variant:"secondary"}}),t._v(" Items ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:this.form,submit:t.onSubmit,form_source:this.form_source}})],1)],1)],1)])],1)])},ss=[],rs={data(){return{alerts:[],carousel_id:this.$route.params.carousel_id,form:{},form_source:"/api/editorial-board/carousels/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.name},getItem(){let t="/api/editorial-board/carousels/"+this.carousel_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.carousel_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.carousel_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/carousels/"+this.carousel_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"carousel edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/carousels/"+this.carousel_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"carousel removed successfully",dismissable:!0}),this.$router.push({name:"Carousels",params:{alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete carousel?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},os=rs,ls=Object(v["a"])(os,is,ss,!1,null,null,null),ns=ls.exports,ds=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},cs=[],us={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/logs/",page_title:"Carousel logs"}}},ms=us,ps=Object(v["a"])(ms,ds,cs,!1,null,null,null),hs=ps.exports,_s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,files:t.files,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"CarouselItemNew",params:{carousel_id:t.carousel_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"childs",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"CarouselItemLinks",params:{carousel_id:t.carousel_id,carousel_item_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"link45deg",variant:"secondary"}}),t._v(" Links ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"CarouselItemLocalizations",params:{carousel_id:t.carousel_id,carousel_item_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)]}},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"CarouselItemEdit",params:{carousel_id:t.carousel_id,carousel_item_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},bs=[],fs={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/",carousel_id:this.$route.params.carousel_id,fields:["id",{key:"image",thClass:"w-25"},{key:"mobile_image",thClass:"w-25"},"pre_heading","heading","order",{key:"is_active",label:"Active"},{key:"childs",label:"Related"},"actions"],files:["image","mobile_image"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Pre-Heading",value:"pre_heading"},{text:"Heading",value:"heading"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Carousel items"}}},gs=fs,vs=Object(v["a"])(gs,_s,bs,!1,null,null,null),ks=vs.exports,Cs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},ws=[],$s={data(){return{alerts:[],carousel_id:this.$route.params.carousel_id,form:{carousel:parseInt(this.$route.params.carousel_id)},form_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/form/",add_modal_fields:{image:this.$router.resolve({name:"MediaNew"}).href,mobile_image:this.$router.resolve({name:"MediaNew"}).href},files:{}}},methods:{updateMedia(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.$set(this.files,"image",t.data.file)})},updateMobileMedia(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.$set(this.files,"mobile_image",t.data.file)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/carousels/"+this.carousel_id+"/items/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"carousel item added successfully",dismissable:!0}),this.$router.push({name:"CarouselItems",params:{carousel_id:this.carousel_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},watch:{"form.image":function(t,e){this.updateMedia(t)},"form.mobile_image":function(t,e){this.updateMobileMedia(t)}}},ys=$s,xs=Object(v["a"])(ys,Cs,ws,!1,null,null,null),Ss=xs.exports,js=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CarouselItemLogs",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CarouselItemLinks",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id}}}},[a("b-icon",{attrs:{icon:"link45deg",variant:"secondary"}}),t._v(" Links ")],1),a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CarouselItemLocalizations",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},Ls=[],zs={data(){return{alerts:[],carousel_id:this.$route.params.carousel_id,carousel_item_id:this.$route.params.carousel_item_id,form:{},form_source:"/api/editorial-board/carousels/items/form/",add_modal_fields:{image:this.$router.resolve({name:"MediaNew"}).href,mobile_image:this.$router.resolve({name:"MediaNew"}).href},files:{},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"image"==e||"mobile_image"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.$set(this.files,"image",t.image.file),this.$set(this.files,"mobile_image",t.mobile_image.file),this.page_title=t.image.title,this.$refs.form.getOptionsFromParent("image",[{text:t.image.title,value:t.image.id}]),this.$refs.form.getOptionsFromParent("mobile_image",[{text:t.mobile_image.title,value:t.mobile_image.id}])},getItem(){let t="/api/editorial-board/carousels/"+this.carousel_id+"/items/"+this.carousel_item_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.carousel_item_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.carousel_item_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},updateMedia(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.files.image=t.data.file})},updateMobileMedia(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.files.mobile_image=t.data.file})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/carousels/"+this.carousel_id+"/items/"+this.carousel_item_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"carousel item edited successfully",dismissable:!0}),this.page_title=t.data.image.title,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/carousels/"+this.carousel_id+"/items/"+this.carousel_item_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"carousel item removed successfully",dismissable:!0}),this.$router.push({name:"CarouselItems",params:{carousel_id:this.carousel_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete carousel item?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)},watch:{"form.image":function(t,e){t&&t!=e&&this.updateMedia(t),t||(this.files.image="")},"form.mobile_image":function(t,e){t&&t!=e&&this.updateMobileMedia(t),t||(this.files.mobile_image="")}}},Es=zs,Os=Object(v["a"])(Es,js,Ls,!1,null,null,null),Ps=Os.exports,Ms=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Ts=[],Ds={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/logs/",page_title:"Carousel item logs"}}},Is=Ds,Ns=Object(v["a"])(Is,Ms,Ts,!1,null,null,null),Ws=Ns.exports,Fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"CarouselItemLinkNew",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"childs",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"CarouselItemLinkLocalizations",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id,carousel_item_link_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)]}},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"CarouselItemLinkEdit",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id,carousel_item_link_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},Rs=[],Bs={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/links/",carousel_id:this.$route.params.carousel_id,carousel_item_id:this.$route.params.carousel_item_id,fields:["id","title","title_preset","url","order",{key:"is_active",label:"Active"},{key:"childs",label:"Related"},"actions"],ordering_list:[{text:"Id",value:"id"},{text:"Title",value:"title"},{text:"URL",value:"url"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Carousel item links"}}},As=Bs,Xs=Object(v["a"])(As,Fs,Rs,!1,null,null,null),Hs=Xs.exports,qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("b-card-title",[t._v("New carousel item link")]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Ys=[],Vs={data(){return{alerts:[],carousel_id:this.$route.params.carousel_id,carousel_item_id:this.$route.params.carousel_item_id,form:{carousel_item:parseInt(this.$route.params.carousel_item_id)},form_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/links/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/carousels/"+this.carousel_id+"/items/"+this.carousel_item_id+"/links/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"carousel item link added successfully",dismissable:!0}),this.$router.push({name:"CarouselItemLinks",params:{carousel_id:this.carousel_id,carousel_item_id:this.carousel_item_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Gs=Vs,Us=Object(v["a"])(Gs,qs,Ys,!1,null,null,null),Js=Us.exports,Qs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CarouselItemLinkLogs",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id,carousel_item_link_id:t.carousel_item_link_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CarouselItemLinkLocalizations",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id,carousel_item_link_id:t.carousel_item_link_id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{fields:t.fields,form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Ks=[],Zs={data(){return{alerts:[],carousel_id:this.$route.params.carousel_id,carousel_item_id:this.$route.params.carousel_item_id,carousel_item_link_id:this.$route.params.carousel_item_link_id,form:{},form_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/links/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.title},getItem(){let t="/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/links/"+this.carousel_item_link_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.carousel_item_link_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.carousel_item_link_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/links/"+this.carousel_item_link_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.title,this.alerts.push({variant:"success",message:"carousel item link edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/carousels/"+this.carousel_id+"/items/"+this.carousel_item_id+"/links/"+this.carousel_item_link_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"carousel item link removed successfully",dismissable:!0}),this.$router.push({name:"CarouselItemLinks",params:{carousel_id:this.carousel_id,carousel_item_id:this.carousel_item_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete carousel item link?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},tr=Zs,er=Object(v["a"])(tr,Qs,Ks,!1,null,null,null),ar=er.exports,ir=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},sr=[],rr={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/links/"+this.$route.params.carousel_item_link_id+"/logs/",page_title:"Carousel item link logs"}}},or=rr,lr=Object(v["a"])(or,ir,sr,!1,null,null,null),nr=lr.exports,dr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"CarouselItemLocalizationNew",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"CarouselItemLocalizationEdit",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id,carousel_item_localization_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},cr=[],ur={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/localizations/",carousel_id:this.$route.params.carousel_id,carousel_item_id:this.$route.params.carousel_item_id,fields:["id","language","pre_heading","heading",,"description","order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Language",value:"language"},{text:"Pre-Heading",value:"pre_heading"},{text:"Heading",value:"heading"},{text:"Description",value:"description"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Carousel item localizations"}}},mr=ur,pr=Object(v["a"])(mr,dr,cr,!1,null,null,null),hr=pr.exports,_r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"Edit"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},br=[],fr={data(){return{alerts:[],carousel_id:this.$route.params.carousel_id,carousel_item_id:this.$route.params.carousel_item_id,form:{carousel_item:parseInt(this.$route.params.carousel_item_id)},form_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/localizations/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/carousels/"+this.carousel_id+"/items/"+this.carousel_item_id+"/localizations/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"carousel item localization added successfully",dismissable:!0}),this.$router.push({name:"CarouselItemLocalizations",params:{carousel_id:this.carousel_id,carousel_item_id:this.carousel_item_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},gr=fr,vr=Object(v["a"])(gr,_r,br,!1,null,null,null),kr=vr.exports,Cr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CarouselItemLocalizationLogs",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id,carousel_item_localization_id:t.carousel_item_localization_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},wr=[],$r={data(){return{alerts:[],carousel_id:this.$route.params.carousel_id,carousel_item_id:this.$route.params.carousel_item_id,carousel_item_localization_id:this.$route.params.carousel_item_localization_id,form:{},form_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/localizations/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.pre_heading+" "+t.heading},getItem(){let t="/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/localizations/"+this.carousel_item_localization_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.carousel_item_localization_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.carousel_item_localization_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/localizations/"+this.carousel_item_localization_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.pre_heading+" "+t.data.heading,this.alerts.push({variant:"success",message:"carousel item localization edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/carousels/"+this.carousel_id+"/items/"+this.carousel_item_id+"/localizations/"+this.carousel_item_localization_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"carousel item localization removed successfully",dismissable:!0}),this.$router.push({name:"CarouselItemLocalizations",params:{carousel_id:this.carousel_id,carousel_item_id:this.carousel_item_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete carousel item localization?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},yr=$r,xr=Object(v["a"])(yr,Cr,wr,!1,null,null,null),Sr=xr.exports,jr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Lr=[],zr={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/localizations/"+this.$route.params.carousel_item_localization_id+"/logs/",page_title:"Carousel item localization logs"}}},Er=zr,Or=Object(v["a"])(Er,jr,Lr,!1,null,null,null),Pr=Or.exports,Mr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"CarouselItemLinkLocalizationNew",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id,carousel_item_link_id:t.carousel_item_link_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"CarouselItemLinkLocalizationEdit",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id,carousel_item_link_id:t.carousel_item_link_id,carousel_item_link_localization_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},Tr=[],Dr={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/links/"+this.$route.params.carousel_item_link_id+"/localizations/",carousel_id:this.$route.params.carousel_id,carousel_item_id:this.$route.params.carousel_item_id,carousel_item_link_id:this.$route.params.carousel_item_link_id,fields:["id","language","title","order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Title",value:"title"},{text:"Language",value:"language"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Carousel item link localizations"}}},Ir=Dr,Nr=Object(v["a"])(Ir,Mr,Tr,!1,null,null,null),Wr=Nr.exports,Fr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"Edit"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Rr=[],Br={data(){return{alerts:[],carousel_id:this.$route.params.carousel_id,carousel_item_id:this.$route.params.carousel_item_id,carousel_item_link_id:this.$route.params.carousel_item_link_id,form:{carousel_item_link:parseInt(this.$route.params.carousel_item_link_id)},form_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/links/"+this.$route.params.carousel_item_link_id+"/localizations/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/carousels/"+this.carousel_id+"/items/"+this.carousel_item_id+"/links/"+this.carousel_item_link_id+"/localizations/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"carousel item link localization added successfully",dismissable:!0}),this.$router.push({name:"CarouselItemLinkLocalizations",params:{carousel_id:this.carousel_id,carousel_item_id:this.carousel_item_id,carousel_item_link_id:this.carousel_item_link_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Ar=Br,Xr=Object(v["a"])(Ar,Fr,Rr,!1,null,null,null),Hr=Xr.exports,qr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"CarouselItemLinkLocalizationLogs",params:{carousel_id:t.carousel_id,carousel_item_id:t.carousel_item_id,carousel_item_link_id:t.carousel_item_link_id,carousel_item_link_localization_id:t.carousel_item_link_localization_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Yr=[],Vr={data(){return{alerts:[],carousel_id:this.$route.params.carousel_id,carousel_item_id:this.$route.params.carousel_item_id,carousel_item_link_id:this.$route.params.carousel_item_link_id,carousel_item_link_localization_id:this.$route.params.carousel_item_link_localization_id,form:{},form_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/links/"+this.$route.params.carousel_item_link_id+"/localizations/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.title},getItem(){let t="/api/editorial-board/carousels/"+this.carousel_id+"/items/"+this.carousel_item_id+"/links/"+this.carousel_item_link_id+"/localizations/"+this.carousel_item_link_localization_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.carousel_item_link_localization_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.carousel_item_link_localization_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/carousels/"+this.carousel_id+"/items/"+this.carousel_item_id+"/links/"+this.carousel_item_link_id+"/localizations/"+this.carousel_item_link_localization_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.title,this.alerts.push({variant:"success",message:"carousel item localization edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/carousels/"+this.carousel_id+"/items/"+this.carousel_item_id+"/links/"+this.carousel_item_link_id+"/localizations/"+this.carousel_item_link_localization_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"carousel item localization removed successfully",dismissable:!0}),this.$router.push({name:"CarouselItemLinkLocalizations",params:{carousel_id:this.carousel_id,carousel_item_id:this.carousel_item_id,carousel_item_link_id:this.carousel_item_link_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete carousel item link localization?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},Gr=Vr,Ur=Object(v["a"])(Gr,qr,Yr,!1,null,null,null),Jr=Ur.exports,Qr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Kr=[],Zr={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/items/"+this.$route.params.carousel_item_id+"/links/"+this.$route.params.carousel_item_link_id+"/localizations/"+this.$route.params.carousel_item_link_localization_id+"/logs/",page_title:"Carousel item link localization logs"}}},to=Zr,eo=Object(v["a"])(to,Qr,Kr,!1,null,null,null),ao=eo.exports,io=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLocks",{attrs:{object_api:t.object_api,object_id:t.object_id,page_title:t.page_title,addNewClass:t.addNewClass}})},so=[],ro={components:{ObjectLocks:sa},data(){return{addNewClass:"CarouselLockNew",object_api:"/api/editorial-board/carousels/"+this.$route.params.carousel_id+"/",object_id:this.$route.params.carousel_id,page_title:"Carousel locks"}}},oo=ro,lo=Object(v["a"])(oo,io,so,!1,null,null,null),no=lo.exports,co=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},uo=[],mo={data(){return{alerts:[],carousel_id:this.$route.params.carousel_id,form:{},form_source:"/api/editorial-board/users/form/"}},methods:{retrieveObject(){let t="/api/editorial-board/carousels/"+this.carousel_id+"/";this.axios.get(t).then(t=>{this.content_type=t.data.object_content_type}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/locks/"+this.content_type+"/"+this.carousel_id+"/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"lock added successfully",dismissable:!0}),this.$router.push({name:"CarouselLocks",params:{carousel_id:this.carousel_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},mounted(){this.retrieveObject()}},po=mo,ho=Object(v["a"])(po,co,uo,!1,null,null,null),_o=ho.exports,bo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"ContactNew"}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"childs",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"ContactInfos",params:{contact_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"list-ul",variant:"secondary"}}),t._v(" Informations ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"ContactLocalizations",params:{contact_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)]}},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"ContactEdit",params:{contact_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-secondary",attrs:{to:{name:"ContactLocks",params:{contact_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"lock",variant:"white"}}),t._v(" Allowed users ")],1)]}}])})},fo=[],go={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/contacts/",fields:["id","name","description",{key:"contact_type",label:"Type"},{key:"is_active",label:"Active"},{key:"childs",label:"Related"},"actions"],ordering:"name",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Description",value:"description"},{text:"Type",value:"contact_type"}],page_title:"Contacts"}}},vo=go,ko=Object(v["a"])(vo,bo,fo,!1,null,null,null),Co=ko.exports,wo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},["raw"!=t.$route.query.mode?a("Breadcrumbs"):t._e(),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New contact"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},$o=[],yo={data(){return{alerts:[],files:{},form:{},form_source:"/api/editorial-board/contacts/form/",add_modal_fields:{image:this.$router.resolve({name:"MediaNew"}).href}}},methods:{updateMedia(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.$set(this.files,"image",t.data.file)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/contacts/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"carousel added successfully",dismissable:!0}),"raw"!=this.$route.query.mode&&this.$router.push({name:"Contacts",params:{alerts:this.alerts}}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},watch:{"form.image":function(t,e){this.updateMedia(t)}}},xo=yo,So=Object(v["a"])(xo,wo,$o,!1,null,null,null),jo=So.exports,Lo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"ContactLogs",params:{contact_id:t.contact_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"ContactInfos",params:{contact_id:t.contact_id}}}},[a("b-icon",{attrs:{icon:"info-circle",variant:"secondary"}}),t._v(" Informations ")],1),a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"ContactLocalizations",params:{carousel_id:t.carousel_id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},zo=[],Eo={data(){return{alerts:[],contact_id:this.$route.params.contact_id,form:{},form_source:"/api/editorial-board/contacts/form/",add_modal_fields:{image:this.$router.resolve({name:"MediaNew"}).href},files:{},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.form.image=t.image.id,this.$set(this.files,"image",t.image.file),this.page_title=t.name,this.$refs.form.getOptionsFromParent("image",[{text:t.image.title,value:t.image.id}])},getItem(){let t="/api/editorial-board/contacts/"+this.contact_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.contact_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.contact_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},updateMedia(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.files.image=t.data.file})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/contacts/"+this.contact_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"contact edited successfully",dismissable:!0}),this.page_title=t.data.image.title,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/contacts/"+this.contact_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"contact removed successfully",dismissable:!0}),this.$router.push({name:"Contacts",params:{contact_id:this.contact_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete contact?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)},watch:{"form.image":function(t,e){t&&t!=e&&this.updateMedia(t),t||(this.files.image="")}}},Oo=Eo,Po=Object(v["a"])(Oo,Lo,zo,!1,null,null,null),Mo=Po.exports,To=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Do=[],Io={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/logs/",page_title:"Contact logs"}}},No=Io,Wo=Object(v["a"])(No,To,Do,!1,null,null,null),Fo=Wo.exports,Ro=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLocks",{attrs:{object_api:t.object_api,object_id:t.object_id,page_title:t.page_title,addNewClass:t.addNewClass}})},Bo=[],Ao={components:{ObjectLocks:sa},data(){return{addNewClass:"ContactLockNew",object_api:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/",object_id:this.$route.params.contact_id,page_title:"Contact locks"}}},Xo=Ao,Ho=Object(v["a"])(Xo,Ro,Bo,!1,null,null,null),qo=Ho.exports,Yo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Vo=[],Go={data(){return{alerts:[],contact_id:this.$route.params.contact_id,form:{},form_source:"/api/editorial-board/users/form/"}},methods:{retrieveObject(){let t="/api/editorial-board/contacts/"+this.contact_id+"/";this.axios.get(t).then(t=>{this.content_type=t.data.object_content_type}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/locks/"+this.content_type+"/"+this.contact_id+"/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"lock added successfully",dismissable:!0}),this.$router.push({name:"ContactLocks",params:{contact_id:this.contact_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},mounted(){this.retrieveObject()}},Uo=Go,Jo=Object(v["a"])(Uo,Yo,Vo,!1,null,null,null),Qo=Jo.exports,Ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"ContactInfoNew",params:{contact_id:t.contact_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"childs",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"ContactInfoLocalizations",params:{contact_id:t.contact_id,contact_info_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)]}},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"ContactInfoEdit",params:{contact_id:t.contact_id,contact_info_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},Zo=[],tl={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/infos/",contact_id:this.$route.params.contact_id,fields:["id","label","value",{key:"info_type",label:"Type"},"order",{key:"is_active",label:"Active"},{key:"childs",label:"Related"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Label",value:"label"},{text:"Type",value:"info_type"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Contact informations"}}},el=tl,al=Object(v["a"])(el,Ko,Zo,!1,null,null,null),il=al.exports,sl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},rl=[],ol={data(){return{alerts:[],contact_id:this.$route.params.contact_id,form:{contact:parseInt(this.$route.params.contact_id)},form_source:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/infos/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/contacts/"+this.contact_id+"/infos/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"contact information added successfully",dismissable:!0}),this.$router.push({name:"ContactInfos",params:{contact_id:this.contact_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},ll=ol,nl=Object(v["a"])(ll,sl,rl,!1,null,null,null),dl=nl.exports,cl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"ContactInfoLogs",params:{contact_id:t.contact_id,contact_info_id:t.contact_info_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"ContactInfoLocalizations",params:{contact_id:t.contact_id,contact_info_id:t.contact_info_id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},ul=[],ml={data(){return{alerts:[],contact_id:this.$route.params.contact_id,contact_info_id:this.$route.params.contact_info_id,form:{},form_source:"/api/editorial-board/contacts/infos/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.label},getItem(){let t="/api/editorial-board/contacts/"+this.contact_id+"/infos/"+this.contact_info_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.contact_info_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.carousel_item_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/contacts/"+this.contact_id+"/infos/"+this.contact_info_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"contact information edited successfully",dismissable:!0}),this.page_title=t.data.label,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/contacts/"+this.contact_id+"/infos/"+this.contact_info_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"contact information removed successfully",dismissable:!0}),this.$router.push({name:"ContactInfos",params:{contact_id:this.contact_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete contact information?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},pl=ml,hl=Object(v["a"])(pl,cl,ul,!1,null,null,null),_l=hl.exports,bl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},fl=[],gl={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/infos/"+this.$route.params.contact_info_id+"/logs/",page_title:"Contact information logs"}}},vl=gl,kl=Object(v["a"])(vl,bl,fl,!1,null,null,null),Cl=kl.exports,wl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"ContactLocalizationNew",params:{contact_id:t.contact_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"ContactLocalizationEdit",params:{contact_id:t.contact_id,localization_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},$l=[],yl={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/localizations/",contact_id:this.$route.params.contact_id,fields:["id","language","name","description","order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Language",value:"language"},{text:"Name",value:"pre_heading"},{text:"Description",value:"description"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Contact localizations"}}},xl=yl,Sl=Object(v["a"])(xl,wl,$l,!1,null,null,null),jl=Sl.exports,Ll=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"Edit"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},zl=[],El={data(){return{alerts:[],contact_id:this.$route.params.contact_id,form:{contact:parseInt(this.$route.params.contact_id)},form_source:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/localizations/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/contacts/"+this.contact_id+"/localizations/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"contact localization added successfully",dismissable:!0}),this.$router.push({name:"ContactLocalizations",params:{contact_id:this.contact_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Ol=El,Pl=Object(v["a"])(Ol,Ll,zl,!1,null,null,null),Ml=Pl.exports,Tl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"ContactLocalizationLogs",params:{contact_id:t.contact_id,localization_id:t.localization_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Dl=[],Il={data(){return{alerts:[],contact_id:this.$route.params.contact_id,localization_id:this.$route.params.localization_id,form:{},form_source:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/localizations/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.name},getItem(){let t="/api/editorial-board/contacts/"+this.$route.params.contact_id+"/localizations/"+this.localization_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.localization_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.localization_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/contacts/"+this.$route.params.contact_id+"/localizations/"+this.localization_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"contact localization edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/contacts/"+this.contact_id+"/localizations/"+this.localization_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"contact localization removed successfully",dismissable:!0}),this.$router.push({name:"ContactLocalizations",params:{contact_id:this.contact_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete contact localization?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},Nl=Il,Wl=Object(v["a"])(Nl,Tl,Dl,!1,null,null,null),Fl=Wl.exports,Rl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Bl=[],Al={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/localizations/"+this.$route.params.localization_id+"/logs/",page_title:"Contact localization logs"}}},Xl=Al,Hl=Object(v["a"])(Xl,Rl,Bl,!1,null,null,null),ql=Hl.exports,Yl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"ContactInfoLocalizationNew",params:{contact_id:t.contact_id,contact_info_id:t.contact_info_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"ContactInfoLocalizationEdit",params:{contact_id:t.contact_id,contact_info_id:t.contact_info_id,localization_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},Vl=[],Gl={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/infos/"+this.$route.params.contact_info_id+"/localizations/",contact_id:this.$route.params.contact_id,contact_info_id:this.$route.params.contact_info_id,fields:["id","language","label","value",,"order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Language",value:"language"},{text:"Label",value:"label"},{text:"Value",value:"value"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Contact information localizations"}}},Ul=Gl,Jl=Object(v["a"])(Ul,Yl,Vl,!1,null,null,null),Ql=Jl.exports,Kl=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"Edit"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Zl=[],tn={data(){return{alerts:[],contact_id:this.$route.params.contact_id,contact_info_id:this.$route.params.contact_info_id,form:{contact_info:parseInt(this.$route.params.contact_info_id)},form_source:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/infos/"+this.$route.params.contact_info_id+"/localizations/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/contacts/"+this.contact_id+"/infos/"+this.contact_info_id+"/localizations/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"contact information localization added successfully",dismissable:!0}),this.$router.push({name:"ContactInfoLocalizations",params:{contact_id:this.contact_id,contact_info_id:this.contact_info_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},en=tn,an=Object(v["a"])(en,Kl,Zl,!1,null,null,null),sn=an.exports,rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"ContactInfoLocalizationLogs",params:{contact_id:t.contact_id,contact_info_id:t.contact_info_id,localization_id:t.localization_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},on=[],ln={data(){return{alerts:[],contact_id:this.$route.params.contact_id,contact_info_id:this.$route.params.contact_info_id,localization_id:this.$route.params.localization_id,form:{},form_source:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/infos/"+this.$route.params.contact_info_id+"/localizations/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.label},getItem(){let t="/api/editorial-board/contacts/"+this.$route.params.contact_id+"/infos/"+this.$route.params.contact_info_id+"/localizations/"+this.localization_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.localization_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.localization_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/contacts/"+this.$route.params.contact_id+"/infos/"+this.$route.params.contact_info_id+"/localizations/"+this.localization_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.label,this.alerts.push({variant:"success",message:"contact information localization edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/contacts/"+this.contact_id+"/infos/"+this.contact_info_id+"/localizations/"+this.localization_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"contact information localization removed successfully",dismissable:!0}),this.$router.push({name:"ContactInfoLocalizations",params:{contact_id:this.contact_id,contact_info_id:this.contact_info_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete contact information localization?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},nn=ln,dn=Object(v["a"])(nn,rn,on,!1,null,null,null),cn=dn.exports,un=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},mn=[],pn={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/contacts/"+this.$route.params.contact_id+"/infos/"+this.$route.params.contact_info_id+"/localizations/"+this.$route.params.localization_id+"/logs/",page_title:"Contact information localization logs"}}},hn=pn,_n=Object(v["a"])(hn,un,mn,!1,null,null,null),bn=_n.exports,fn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"CalendarNew"}}},[t._v(" Add new calendar now ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"calendar2-date",scale:"0.8"}}),t._v(" Calendars ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t.calendars.count?a("ul",t._l(t.calendars.results.slice(0,5),(function(e){return a("li",[a("router-link",{attrs:{to:{name:"CalendarEdit",params:{calendar_id:e.id}}}},[t._v(" "+t._s(e.name)+" ")]),a("br"),a("small",[t._v(t._s(t.$date_formatter(e.created)))])],1)})),0):a("span",[t._v("-")])])])],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"ContactNew"}}},[t._v(" Add new contact now ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"person-lines-fill",scale:"0.8"}}),t._v(" Contacts ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t.contacts.count?a("ul",t._l(t.contacts.results.slice(0,5),(function(e){return a("li",[a("router-link",{attrs:{to:{name:"ContactEdit",params:{contact_id:e.id}}}},[t._v(" "+t._s(e.name)+" ")]),a("br"),a("small",[t._v(t._s(t.$date_formatter(e.created)))])],1)})),0):a("span",[t._v("-")])])])],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"CarouselNew"}}},[t._v(" Add new carousel now ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"collection-play",scale:"0.8"}}),t._v(" Carousels ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t.carousels.count?a("ul",t._l(t.carousels.results.slice(0,5),(function(e){return a("li",[a("router-link",{attrs:{to:{name:"CarouselEdit",params:{carousel_id:e.id}}}},[t._v(" "+t._s(e.name)+" ")]),a("br"),a("small",[t._v(t._s(t.$date_formatter(e.created)))])],1)})),0):a("span",[t._v("-")])])])],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"EventNew"}}},[t._v(" Add new event now ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"calendar2-event",scale:"0.8"}}),t._v(" Events ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t.events.count?a("ul",t._l(t.events.results.slice(0,5),(function(e){return a("li",[a("router-link",{attrs:{to:{name:"EventEdit",params:{event_id:e.id}}}},[t._v(" "+t._s(e.publication_data.title)+" ")]),a("br"),a("small",[t._v(t._s(t.$date_formatter(e.created)))])],1)})),0):a("span",[t._v("-")])])])],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"MediaNew"}}},[t._v(" Add new media now ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"folder",scale:"0.8"}}),t._v(" Media ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t.media.count?a("ul",t._l(t.media.results.slice(0,5),(function(e){return a("li",[a("router-link",{attrs:{to:{name:"MediaEdit",params:{media_id:e.id}}}},[t._v(" "+t._s(e.title)+" ")]),a("br"),a("small",[t._v(t._s(t.$date_formatter(e.created)))])],1)})),0):a("span",[t._v("-")])])])],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"MenuNew"}}},[t._v(" Add new menu now ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"menu-button-wide-fill",scale:"0.8"}}),t._v(" Menu ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t.menus.count?a("ul",t._l(t.menus.results.slice(0,5),(function(e){return a("li",[a("router-link",{attrs:{to:{name:"MenuEdit",params:{menu_id:e.id}}}},[t._v(" "+t._s(e.name)+" ")]),e.is_active?a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.6",variant:"success",title:"active"}}):a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.6",variant:"danger",title:"not active"}}),a("br"),a("small",[t._v(t._s(t.$date_formatter(e.created)))])],1)})),0):a("span",[t._v("-")])])])],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"Websites"}}},[t._v(" Go to websites ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"columns-gap",scale:"0.8"}}),t._v(" Pages ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t.pages.count?a("ul",t._l(t.pages.results.slice(0,5),(function(e){return a("li",[a("router-link",{attrs:{to:{name:"WebpathPageEdit",params:{site_id:e.webpath.site,webpath_id:e.webpath.id,page_id:e.id}}}},[t._v(" "+t._s(e.name)+" ")]),e.is_active?a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.6",variant:"success",title:"active"}}):a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.6",variant:"danger",title:"not active"}}),(e.state="published")?a("b-icon",{staticClass:"ml-1",attrs:{icon:"circle-fill","font-scale":"0.6",variant:"success",title:"published"}}):a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.6",variant:"warning",title:"draft"}}),a("br"),t._v(" Webpath: "+t._s(e.webpath.full_name)+" "),a("br"),a("small",[t._v(t._s(t.$date_formatter(e.created)))])],1)})),0):a("span",[t._v("-")])])])],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"PublicationNew"}}},[t._v(" Add new publication now ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"file-earmark-text",scale:"0.8"}}),t._v(" Publications ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t.publications.count?a("ul",t._l(t.publications.results.slice(0,5),(function(e){return a("li",[a("router-link",{attrs:{to:{name:"PublicationEdit",params:{publication_id:e.id}}}},[t._v(" "+t._s(e.full_name)+" ")]),e.is_active?a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.6",variant:"success",title:"active"}}):a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.6",variant:"danger",title:"not active"}}),a("br"),a("small",[t._v(t._s(t.$date_formatter(e.created)))])],1)})),0):a("span",[t._v("-")])])])],1)],1),a("div",{staticClass:"col-lg-4 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"Websites"}}},[t._v(" Go to websites ")])]},proxy:!0}])},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"globe",scale:"0.8"}}),t._v(" Webpaths ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t.webpaths.count?a("ul",t._l(t.webpaths.results.slice(0,5),(function(e){return a("li",[a("router-link",{attrs:{to:{name:"WebpathEdit",params:{site_id:e.site,webpath_id:e.id}}}},[t._v(" "+t._s(e.full_name)+" ")]),e.is_active?a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.6",variant:"success",title:"active"}}):a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.6",variant:"danger",title:"not active"}}),a("br"),a("small",[t._v(t._s(t.$date_formatter(e.created)))])],1)})),0):a("span",[t._v("-")])])])],1)],1)])])])},gn=[],vn={data(){return{current_user:"",calendars:[],carousels:[],contacts:[],events:[],media:[],menus:[],pages:[],publications:[],webpaths:[],api_calendar:"/api/editorial-board/calendars/",api_carousel:"/api/editorial-board/carousels/",api_contact:"/api/editorial-board/contacts/",api_event:"/api/editorial-board/events/",api_media:"/api/editorial-board/medias/",api_menu:"/api/editorial-board/menus/",api_page:"/api/editorial-board/pages/",api_publication:"/api/editorial-board/publications/",api_page:"/api/editorial-board/sites/webpaths/pages/",api_webpath:"/api/editorial-board/sites/webpaths/"}},methods:{getCurrentUserID(){this.axios.get("/api/editorial-board/users/current/").then(t=>{this.current_user=t.data[0],this.callApis()})},callCalendarApi(t=""){this.axios.get(this.api_calendar+t).then(t=>{this.calendars=t.data})},callCarouselApi(t=""){this.axios.get(this.api_carousel+t).then(t=>{this.carousels=t.data})},callContactApi(t=""){this.axios.get(this.api_contact+t).then(t=>{this.contacts=t.data})},callEventApi(t=""){this.axios.get(this.api_event+t).then(t=>{this.events=t.data})},callMediaApi(t=""){this.axios.get(this.api_media+t).then(t=>{this.media=t.data})},callMenuApi(t=""){this.axios.get(this.api_menu+t).then(t=>{this.menus=t.data})},callPageApi(t=""){this.axios.get(this.api_page+t).then(t=>{this.pages=t.data})},callPublicationApi(t=""){this.axios.get(this.api_publication+t).then(t=>{this.publications=t.data})},callWebpathApi(t=""){this.axios.get(this.api_webpath+t).then(t=>{this.webpaths=t.data})},callApis(){let t="?created_by="+this.current_user+"&ordering=-created";this.callCalendarApi(t),this.callCarouselApi(t),this.callContactApi(t),this.callEventApi(t),this.callMediaApi(t),this.callMenuApi(t),this.callPageApi(t),this.callPublicationApi(t),this.callWebpathApi(t)}},mounted(){this.getCurrentUserID()}},kn=vn,Cn=Object(v["a"])(kn,fn,gn,!1,null,null,null),wn=Cn.exports,$n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{ref:"completeTable",attrs:{api_source:t.api_source,fields:t.fields,files:t.files,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showIsActive:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"MediaNew"}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"custom_filter",fn:function(){return[a("div",{staticClass:"col col-12 col-sm"},[a("b-input-group",[a("b-form-select",{staticClass:"mb-3",attrs:{id:"media-filetype-select","aria-describedby":t.ariaDescribedby},on:{change:function(e){return t.updateMediaType(e)}},model:{value:t.file_type,callback:function(e){t.file_type=e},expression:"file_type"}},[a("b-form-select-option",{attrs:{selected:""}},[t._v(" - All file types - ")]),t._l(t.types_list,(function(e){return a("b-form-select-option",{attrs:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2)],1)],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn-block btn btn-sm btn-info",attrs:{to:{name:"MediaEdit",params:{media_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-secondary",attrs:{to:{name:"MediaLocks",params:{media_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"lock",variant:"white"}}),t._v(" Allowed users ")],1)]}}])})},yn=[],xn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-input-group",[a("b-form-select",{staticClass:"mb-3",attrs:{id:"media-filetype-select",options:t.type_list,"aria-describedby":t.ariaDescribedby},on:{change:function(e){return t.updateMediaType()}},model:{value:t.media_type,callback:function(e){t.media_type=e},expression:"media_type"}})],1)},Sn=[],jn={name:"MediaTypeFilter",props:{media_type:{type:String}},data(){return{types_list:[]}},methods:{callMediaFiltersApi(){let t="/api/editorial-board/medias/allowed-filetypes/";this.axios.get(t).then(t=>{this.types_list=t,console.log(this.types_list)})},updateMediaTypeFilter(){this.$emit("updateMediaTypeFilter",this.media_type),this.$emit("callApi")}},mounted(){this.callMediaFiltersApi()}},Ln=jn,zn=Object(v["a"])(Ln,xn,Sn,!1,null,null,null),En=(zn.exports,{components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/medias/",collection_id:this.$route.params.collection_id,fields:["id","title",{key:"file",thClass:"w-25"},"description",{key:"file_type",label:"Type"},{key:"file_size",label:"Size (kb)"},{key:"file_dimensions",label:"Dimensions"},"actions"],files:["file"],ordering:"title",ordering_list:[{text:"Id",value:"id"},{text:"Title",value:"title"},{text:"Description",value:"description"},{text:"File type",value:"file_type"}],file_type:"",types_list:[],page_title:"Media"}},methods:{callMediaFiltersApi(){let t="/api/editorial-board/medias/allowed-filetypes/";this.axios.get(t).then(t=>{this.types_list=t.data})},updateMediaType(t=""){this.$refs.completeTable.custom_filters.file_type=t,this.$refs.completeTable.callApi(null,1)}},mounted(){this.file_type=this.$refs.completeTable.custom_filters.file_type,this.callMediaFiltersApi()}}),On=En,Pn=Object(v["a"])(On,$n,yn,!1,null,null,null),Mn=Pn.exports,Tn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"MediaLogs",params:{media_id:t.media_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files}})],1)],1)],1)])],1)])},Dn=[],In={data(){return{alerts:[],media_id:this.$route.params.media_id,form:{},form_source:"/api/editorial-board/medias/form/",files:{},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.title,this.$set(this.files,"file",this.form.file),this.$delete(this.form,"file")},getItem(){let t="/api/editorial-board/medias/"+this.media_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.media_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.media_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/medias/"+this.media_id+"/";t.preventDefault();const a=new FormData;for(var i in this.form)a.append(i,this.form[i]);this.axios.patch(e,a,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.title,this.alerts.push({variant:"success",message:"media edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/medias/"+this.media_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"media removed successfully",dismissable:!0}),this.$router.push({name:"Media",params:{alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete this media?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},Nn=In,Wn=Object(v["a"])(Nn,Tn,Dn,!1,null,null,null),Fn=Wn.exports,Rn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},["raw"!=t.$route.query.mode?a("Breadcrumbs"):t._e(),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New Media"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Bn=[],An={data(){return{alerts:[],form:{},form_source:"/api/editorial-board/medias/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/medias/";t.preventDefault();const a=new FormData;for(var i in this.form)a.append(i,this.form[i]);this.axios.post(e,a,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"item added successfully",dismissable:!0}),"raw"!=this.$route.query.mode&&this.$router.push({name:"Media",params:{alerts:this.alerts}}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Xn=An,Hn=Object(v["a"])(Xn,Rn,Bn,!1,null,null,null),qn=Hn.exports,Yn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Vn=[],Gn={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/medias/"+this.$route.params.media_id+"/logs/",page_title:"Media logs"}}},Un=Gn,Jn=Object(v["a"])(Un,Yn,Vn,!1,null,null,null),Qn=Jn.exports,Kn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLocks",{attrs:{object_api:t.object_api,object_id:t.object_id,page_title:t.page_title,addNewClass:t.addNewClass}})},Zn=[],td={components:{ObjectLocks:sa},data(){return{addNewClass:"MediaLockNew",object_api:"/api/editorial-board/medias/"+this.$route.params.media_id+"/",object_id:this.$route.params.media_id,page_title:"Media locks"}}},ed=td,ad=Object(v["a"])(ed,Kn,Zn,!1,null,null,null),id=ad.exports,sd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},rd=[],od={data(){return{alerts:[],media_id:this.$route.params.media_id,form:{},form_source:"/api/editorial-board/users/form/"}},methods:{retrieveObject(){let t="/api/editorial-board/medias/"+this.media_id+"/";this.axios.get(t).then(t=>{this.content_type=t.data.object_content_type}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/locks/"+this.content_type+"/"+this.media_id+"/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"lock added successfully",dismissable:!0}),this.$router.push({name:"MediaLocks",params:{media_id:this.media_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},mounted(){this.retrieveObject()}},ld=od,nd=Object(v["a"])(ld,sd,rd,!1,null,null,null),dd=nd.exports,cd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"MediaCollectionNew"}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"childs",fn:function(e){return[a("router-link",{staticClass:"mr-3 btn btn-sm btn-outline-secondary",attrs:{to:{name:"MediaCollectionItems",params:{collection_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"list-ul",variant:"secondary"}}),t._v(" Items ")],1)]}},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"mr-3 btn btn-block btn-sm btn-info",attrs:{to:{name:"MediaCollectionEdit",params:{collection_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-secondary",attrs:{to:{name:"MediaCollectionLocks",params:{collection_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"lock",variant:"white"}}),t._v(" Allowed users ")],1)]}}])})},ud=[],md={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/media-collections/",fields:["id","name","description","tags",{key:"is_active",label:"Active"},{key:"childs",label:"Related"},"actions"],ordering:"name",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Description",value:"description"},{text:"State",value:"is_active"}],page_title:"Media collections"}}},pd=md,hd=Object(v["a"])(pd,cd,ud,!1,null,null,null),_d=hd.exports,bd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},["raw"!=t.$route.query.mode?a("Breadcrumbs"):t._e(),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New Media collection"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,tag_fields:t.tag_fields}})],1)],1)],1)])],1)])},fd=[],gd={data(){return{alerts:[],form:{},form_source:"/api/editorial-board/media-collections/form/",tag_fields:["tags"]}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/media-collections/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"item added successfully",dismissable:!0}),"raw"!=this.$route.query.mode&&this.$router.push({name:"MediaCollections",params:{alerts:this.alerts}}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},vd=gd,kd=Object(v["a"])(vd,bd,fd,!1,null,null,null),Cd=kd.exports,wd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"MediaCollectionLogs",params:{collection_id:t.collection_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"MediaCollectionItems",params:{collection_id:t.collection_id}}}},[a("b-icon",{attrs:{icon:"list-ul",variant:"secondary"}}),t._v(" Items ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,tag_fields:t.tag_fields}})],1)],1)],1)])],1)])},$d=[],yd={data(){return{alerts:[],collection_id:this.$route.params.collection_id,form:{},form_source:"/api/editorial-board/media-collections/form/",tag_fields:["tags"],page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.name},getItem(){let t="/api/editorial-board/media-collections/"+this.collection_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.collection_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.collection_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/media-collections/"+this.collection_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"media collection edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/media-collections/"+this.collection_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"media collection removed successfully",dismissable:!0}),this.$router.push({name:"MediaCollections",params:{alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete media collection?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},xd=yd,Sd=Object(v["a"])(xd,wd,$d,!1,null,null,null),jd=Sd.exports,Ld=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},zd=[],Ed={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/media-collections/"+this.$route.params.collection_id+"/logs/",page_title:"Media Collection logs"}}},Od=Ed,Pd=Object(v["a"])(Od,Ld,zd,!1,null,null,null),Md=Pd.exports,Td=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,files:t.files,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"MediaCollectionItemNew",params:{collection_id:t.collection_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"MediaCollectionItemEdit",params:{collection_id:t.collection_id,collection_item_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},Dd=[],Id={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/media-collections/"+this.$route.params.collection_id+"/items/",collection_id:this.$route.params.collection_id,fields:["id",{key:"media.title",label:"Media"},{key:"media.file",label:"File",thClass:"w-25"},"order",{key:"is_active",label:"Active"},"actions"],files:["media.file"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Media collection items"}}},Nd=Id,Wd=Object(v["a"])(Nd,Td,Dd,!1,null,null,null),Fd=Wd.exports,Rd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"Edit"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields,files:t.files}})],1)],1)],1)])],1)])},Bd=[],Ad={data(){return{alerts:[],collection_id:this.$route.params.collection_id,form:{collection:parseInt(this.$route.params.collection_id)},form_source:"/api/editorial-board/media-collections/"+this.$route.params.collection_id+"/items/form/",add_modal_fields:{media:this.$router.resolve({name:"MediaNew"}).href},files:{}}},methods:{updateMedia(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.$set(this.files,"media",t.data.file)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/media-collections/"+this.collection_id+"/items/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"media collection item added successfully",dismissable:!0}),this.$router.push({name:"MediaCollectionItems",params:{collection_id:this.collection_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},watch:{"form.media":function(t,e){this.updateMedia(t)}}},Xd=Ad,Hd=Object(v["a"])(Xd,Rd,Bd,!1,null,null,null),qd=Hd.exports,Yd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"MediaCollectionItemLogs",params:{collection_id:t.collection_id,collection_item_id:t.collection_item_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields,files:t.files}})],1)],1)],1)])],1)])},Vd=[],Gd={data(){return{alerts:[],collection_id:this.$route.params.collection_id,collection_item_id:this.$route.params.collection_item_id,form:{},form_source:"/api/editorial-board/media-collections/"+this.$route.params.collection_id+"/items/form/",add_modal_fields:{media:this.$router.resolve({name:"MediaNew"}).href},files:{},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.form.media=t.media.id,this.$set(this.files,"media",t.media.file),this.page_title=t.media.title,this.$refs.form.getOptionsFromParent("media",[{text:t.media.title,value:t.media.id}])},getItem(){let t="/api/editorial-board/media-collections/"+this.collection_id+"/items/"+this.collection_item_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.collection_item_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.collection_item_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},updateMedia(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.files.media=t.data.file})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/media-collections/"+this.collection_id+"/items/"+this.collection_item_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"media collection item edited successfully",dismissable:!0}),this.page_title=t.data.media.title,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/media-collections/"+this.collection_id+"/items/"+this.collection_item_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"media collection item removed successfully",dismissable:!0}),this.$router.push({name:"MediaCollectionItems",params:{collection_id:this.collection_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete media collection item?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)},watch:{"form.media":function(t,e){t&&t!=e&&this.updateMedia(t),t||(this.files.media="")}}},Ud=Gd,Jd=Object(v["a"])(Ud,Yd,Vd,!1,null,null,null),Qd=Jd.exports,Kd=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Zd=[],tc={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/media-collections/"+this.$route.params.collection_id+"/items/"+this.$route.params.collection_item_id+"/logs/",page_title:"Media Collection item logs"}}},ec=tc,ac=Object(v["a"])(ec,Kd,Zd,!1,null,null,null),ic=ac.exports,sc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLocks",{attrs:{object_api:t.object_api,object_id:t.object_id,page_title:t.page_title,addNewClass:t.addNewClass}})},rc=[],oc={components:{ObjectLocks:sa},data(){return{addNewClass:"MediaCollectionLockNew",object_api:"/api/editorial-board/media-collections/"+this.$route.params.collection_id+"/",object_id:this.$route.params.collection_id,page_title:"Media collection locks"}}},lc=oc,nc=Object(v["a"])(lc,sc,rc,!1,null,null,null),dc=nc.exports,cc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},uc=[],mc={data(){return{alerts:[],collection_id:this.$route.params.collection_id,form:{},form_source:"/api/editorial-board/users/form/"}},methods:{retrieveObject(){let t="/api/editorial-board/media-collections/"+this.collection_id+"/";this.axios.get(t).then(t=>{this.content_type=t.data.object_content_type}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/locks/"+this.content_type+"/"+this.collection_id+"/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"lock added successfully",dismissable:!0}),this.$router.push({name:"MediaCollectionLocks",params:{media_id:this.collection_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},mounted(){this.retrieveObject()}},pc=mc,hc=Object(v["a"])(pc,cc,uc,!1,null,null,null),_c=hc.exports,bc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{ref:"completeTable",attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"MenuNew"}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"childs",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"MenuItems",params:{menu_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"list-ul",variant:"secondary"}}),t._v(" Items ")],1)]}},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"MenuEdit",params:{menu_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1),a("b-button",{staticClass:"btn-block text-white",attrs:{size:"sm",variant:"warning"},on:{click:function(a){return t.cloneModal(e.item)}}},[a("b-icon",{attrs:{icon:"files",variant:"white"}}),t._v(" Clone ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-secondary",attrs:{to:{name:"MenuLocks",params:{menu_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"lock",variant:"white"}}),t._v(" Allowed users ")],1)]}}])})},fc=[],gc={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/menus/",fields:["id","name",{key:"is_active",label:"Active"},{key:"childs",label:"Related"},"actions"],ordering:"name",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"State",value:"is_active"}],page_title:"Menus"}},methods:{clone(t){this.axios.get(this.api_source+t+"/clone/").then(t=>{this.$refs.completeTable.alerts.push({variant:"success",message:"item cloned successfully",dismissable:!0}),this.$refs.completeTable.callApi()}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},cloneModal(t){this.$bvModal.msgBoxConfirm("Do you want really clone item?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"success",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(e=>{e&&this.clone(t.id)})}}},vc=gc,kc=Object(v["a"])(vc,bc,fc,!1,null,null,null),Cc=kc.exports,wc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"MenuLogs",params:{menu_id:t.menu_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn mx-md-1 btn-sm btn-outline-secondary",attrs:{to:{name:"MenuItems",params:{menu_id:t.menu_id}}}},[a("b-icon",{attrs:{icon:"list-ul",variant:"secondary"}}),t._v(" Items ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"text-white mx-md-1",attrs:{size:"sm",variant:"warning"},on:{click:function(e){return t.cloneModal()}}},[a("b-icon",{attrs:{icon:"files",variant:"white"}}),t._v(" Clone ")],1),a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:this.form,submit:t.onSubmit,form_source:this.form_source}})],1)],1)],1)])],1)])},$c=[],yc={data(){return{alerts:[],menu_id:this.$route.params.menu_id,form:{},form_source:"/api/editorial-board/menus/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.name},getItem(){let t="/api/editorial-board/menus/"+this.menu_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.menu_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.menu_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/menus/"+this.menu_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"menu edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},clone(){this.axios.get("/api/editorial-board/menus/"+this.menu_id+"/clone/").then(t=>{this.alerts.push({variant:"success",message:"menu cloned successfully",dismissable:!0}),this.$router.push({name:"MenuEdit",params:{menu_id:t.data.id,alerts:this.alerts}}).catch(()=>{}),this.menu_id=t.data.id,this.page_title=t.data.name}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},cloneModal(){this.$bvModal.msgBoxConfirm("Do you want really clone item?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"success",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.clone()})},remove(){this.axios.delete("/api/editorial-board/menus/"+this.menu_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"menu removed successfully",dismissable:!0}),this.$router.push({name:"Menus",params:{alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete menu?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},xc=yc,Sc=Object(v["a"])(xc,wc,$c,!1,null,null,null),jc=Sc.exports,Lc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},["raw"!=t.$route.query.mode?a("Breadcrumbs"):t._e(),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New menu"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},zc=[],Ec={data(){return{alerts:[],form:{},form_source:"/api/editorial-board/menus/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/menus/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"menu added successfully",dismissable:!0}),"raw"!=this.$route.query.mode&&this.$router.push({name:"Menus",params:{alerts:this.alerts}}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Oc=Ec,Pc=Object(v["a"])(Oc,Lc,zc,!1,null,null,null),Mc=Pc.exports,Tc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Dc=[],Ic={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/menus/"+this.$route.params.menu_id+"/logs/",page_title:"Menu logs"}}},Nc=Ic,Wc=Object(v["a"])(Nc,Tc,Dc,!1,null,null,null),Fc=Wc.exports,Rc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLocks",{attrs:{object_api:t.object_api,object_id:t.object_id,page_title:t.page_title,addNewClass:t.addNewClass}})},Bc=[],Ac={components:{ObjectLocks:sa},data(){return{addNewClass:"MenuLockNew",object_api:"/api/editorial-board/menus/"+this.$route.params.menu_id+"/",object_id:this.$route.params.menu_id,page_title:"Menu locks"}}},Xc=Ac,Hc=Object(v["a"])(Xc,Rc,Bc,!1,null,null,null),qc=Hc.exports,Yc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Vc=[],Gc={data(){return{alerts:[],menu_id:this.$route.params.menu_id,form:{},form_source:"/api/editorial-board/users/form/"}},methods:{retrieveObject(){let t="/api/editorial-board/menus/"+this.menu_id+"/";this.axios.get(t).then(t=>{this.content_type=t.data.object_content_type}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/locks/"+this.content_type+"/"+this.menu_id+"/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"lock added successfully",dismissable:!0}),this.$router.push({name:"MenuLocks",params:{menu_id:this.menu_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},mounted(){this.retrieveObject()}},Uc=Gc,Jc=Object(v["a"])(Uc,Yc,Vc,!1,null,null,null),Qc=Jc.exports,Kc=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("div",{staticClass:"text-right mb-3"},[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"MenuItemNew",params:{menu_id:t.menu_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)],1),a("div",{staticClass:"row pt-3"},[a("div",{staticClass:"col col-12 col-sm"},[a("b-form-input",{staticClass:"mb-3",attrs:{placeholder:"Search...",type:"search"},on:{input:function(e){return t.filterTable()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),a("b-table",{ref:"table",attrs:{id:"my-table",striped:"",hover:"",responsive:"",busy:t.isBusy,fields:t.fields,filter:t.filter,"filter-included-fields":t.filterOn,items:t.items},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle mr-3",attrs:{small:"",type:"grow"}}),a("strong",[t._v("loading data...")])],1)]},proxy:!0},{key:"cell(parent_name)",fn:function(e){return[t._v(" "+t._s(e.value||"-")+" ")]}},{key:"cell(is_active)",fn:function(e){return[e.value?a("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"check-circle-fill",variant:"success"},on:{click:function(a){return t.changeStatus(e.item.id)}}}):a("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"dash-circle-fill",variant:"danger"},on:{click:function(a){return t.changeStatus(e.item.id)}}})]}},{key:"cell(related)",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"MenuItemLocalizations",params:{menu_id:t.menu_id,menu_item_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)]}},{key:"cell(actions)",fn:function(e){return[a("router-link",{staticClass:"btn mr-1 btn-sm btn-info",attrs:{to:{name:"MenuItemEdit",params:{menu_id:t.menu_id,menu_item_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteModal(e.item)}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)]}}])}),t.prev?a("b-button",{staticClass:"float-left",attrs:{variant:"outline-secondary"},on:{click:function(e){return t.callApi(t.prev)}}},[t._v(" Previous page ")]):t._e(),t.next?a("b-button",{staticClass:"float-right",attrs:{variant:"outline-secondary"},on:{click:function(e){return t.callApi(t.next)}}},[t._v(" Next page ")]):t._e()],1)],1)],1)])],1)])},Zc=[],tu={components:{OrderingFilter:ge},data(){return{alerts:this.$route.params.alerts||[],menu_id:this.$route.params.menu_id,fields:["id","name",{key:"parent_name",label:"Parent"},"order",{key:"is_active",label:"Active"},{key:"related",label:"Related"},"actions"],filter:null,filterOn:["name","parent_name"],isBusy:!0,items:[],page_title:"",search:"",sortDesc:"",ordering:"id",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Parent",value:"parent_name"},{text:"Order",value:"order"},{text:"State",value:"is_active"}]}},methods:{get_childs(t){t.name="– ".repeat(t.level)+t.name,t.level>1&&(t.name="┊  "+t.name),this.items.push(t),t.childs&&t.childs.forEach(t=>this.get_childs(t))},callApi(t){let e="/api/editorial-board/menus/"+this.menu_id+"/items/";t&&(e=t),this.axios.get(e).then(t=>{t.data.childs.forEach(t=>this.get_childs(t)),this.page_title=t.data.name+" items",this.isBusy=!1})},changeStatus(t){let e=this.items.find(e=>e.id===t);this.axios.patch("/api/editorial-board/menus/"+this.menu_id+"/items/"+e.id+"/",{is_active:!e.is_active},{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{e.is_active=t.data.is_active,this.alerts.push({variant:"success",message:t.data.name+" status changed successfully",dismissable:!0})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},remove(t){this.axios.delete("/api/editorial-board/menus/"+this.menu_id+"/items/"+t+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(e=>{this.items.splice(this.items.findIndex(e=>e.id===t),1),this.alerts.push({variant:"success",message:"menu item removed successfully",dismissable:!0})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(t){this.$bvModal.msgBoxConfirm("Do you want really delete menu item?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(e=>{e&&this.remove(t.id)})},filterTable(){let t=document.getElementById("my-table");for(let e,a=0;e=t.rows[a];a++)if(""==this.search)e.hidden=!1;else{let t=this.search.toLowerCase(),a=e.cells[1].textContent.toLowerCase();a.includes(t)?e.hidden=!1:e.hidden=!0}}},mounted(){this.callApi()}},eu=tu,au=Object(v["a"])(eu,Kc,Zc,!1,null,null,null),iu=au.exports,su=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"MenuItemLogs",params:{menu_id:t.menu_id,menu_item_id:t.menu_item_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"MenuItemLocalizations",params:{menu_id:t.menu_id,menu_item_id:t.menu_item_id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},ru=[],ou={data(){return{alerts:[],menu_id:this.$route.params.menu_id,menu_item_id:this.$route.params.menu_item_id,form:{},form_source:"/api/editorial-board/menus/"+this.$route.params.menu_id+"/items/form/",files:{},page_title:"",add_modal_fields:{inherited_content:this.$router.resolve({name:"PublicationNew"}).href,publication:this.$router.resolve({name:"PublicationNew"}).href},redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"webpath"==e||"inherited_content"==e||"publication"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.page_title=t.name,t.webpath&&this.$refs.form.getOptionsFromParent("webpath",[{text:t.webpath.name,value:t.webpath.id}]),t.inherited_content&&this.$refs.form.getOptionsFromParent("inherited_content",[{text:t.inherited_content.full_name,value:t.inherited_content.id}]),t.publication&&this.$refs.form.getOptionsFromParent("publication",[{text:t.publication.full_name,value:t.publication.id}])},getItem(){let t="/api/editorial-board/menus/"+this.menu_id+"/items/"+this.menu_item_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.menu_item_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.menu_item_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/menus/"+this.menu_id+"/items/"+this.menu_item_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"menu item edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/menus/"+this.menu_id+"/items/"+this.menu_item_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"menu item removed successfully",dismissable:!0}),this.$router.push({name:"MenuItems",params:{menu_id:this.menu_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete menu item?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},lu=ou,nu=Object(v["a"])(lu,su,ru,!1,null,null,null),du=nu.exports,cu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},uu=[],mu={data(){return{alerts:[],menu_id:this.$route.params.menu_id,form:{menu:parseInt(this.$route.params.menu_id)},form_source:"/api/editorial-board/menus/"+this.$route.params.menu_id+"/items/form/",add_modal_fields:{inherited_content:this.$router.resolve({name:"PublicationNew"}).href,publication:this.$router.resolve({name:"PublicationNew"}).href}}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/menus/"+this.menu_id+"/items/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"menu item added successfully",dismissable:!0}),this.$router.push({name:"MenuItems",params:{menu_id:this.menu_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},pu=mu,hu=Object(v["a"])(pu,cu,uu,!1,null,null,null),_u=hu.exports,bu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},fu=[],gu={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/menus/"+this.$route.params.menu_id+"/items/"+this.$route.params.menu_item_id+"/logs/",page_title:"Menu item logs"}}},vu=gu,ku=Object(v["a"])(vu,bu,fu,!1,null,null,null),Cu=ku.exports,wu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"MenuItemLocalizationNew",params:{menu_id:t.menu_id,menu_item_id:t.menu_item_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"MenuItemLocalizationEdit",params:{menu_id:t.menu_id,menu_item_id:t.menu_item_id,menu_item_localization_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},$u=[],yu={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/menus/"+this.$route.params.menu_id+"/items/"+this.$route.params.menu_item_id+"/localizations/",menu_id:this.$route.params.menu_id,menu_item_id:this.$route.params.menu_item_id,fields:["id","language","name",{key:"is_active",label:"Active"},"actions"],ordering:"language",ordering_list:[{text:"Id",value:"id"},{text:"Language",value:"language"},{text:"Name",value:"name"},{text:"State",value:"is_active"}],page_title:"Menu item localizations"}}},xu=yu,Su=Object(v["a"])(xu,wu,$u,!1,null,null,null),ju=Su.exports,Lu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"MenuItemLocalizationLogs",params:{menu_id:t.menu_id,menu_item_id:t.menu_item_id,menu_item_localization_id:t.menu_item_localization_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},zu=[],Eu={data(){return{alerts:[],menu_id:this.$route.params.menu_id,menu_item_id:this.$route.params.menu_item_id,menu_item_localization_id:this.$route.params.menu_item_localization_id,form:{},form_source:"/api/editorial-board/menus/"+this.$route.params.menu_id+"/items/"+this.$route.params.menu_item_id+"/localizations/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.name},getItem(){let t="/api/editorial-board/menus/"+this.$route.params.menu_id+"/items/"+this.$route.params.menu_item_id+"/localizations/"+this.menu_item_localization_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.menu_item_localization_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.menu_item_localization_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/menus/"+this.$route.params.menu_id+"/items/"+this.$route.params.menu_item_id+"/localizations/"+this.menu_item_localization_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"menu item localization edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/carousels/"+this.menu_id+"/items/"+this.menu_item_id+"/localizations/"+this.menu_item_localization_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"menu item localization removed successfully",dismissable:!0}),this.$router.push({name:"MenuItemLocalizations",params:{carousel_id:this.menu_id,carousel_item_id:this.menu_item_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete menu item localization?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},Ou=Eu,Pu=Object(v["a"])(Ou,Lu,zu,!1,null,null,null),Mu=Pu.exports,Tu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"Edit"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Du=[],Iu={data(){return{alerts:[],menu_id:this.$route.params.menu_id,menu_item_id:this.$route.params.menu_item_id,form:{item:parseInt(this.$route.params.menu_item_id)},form_source:"/api/editorial-board/menus/"+this.$route.params.menu_id+"/items/"+this.$route.params.menu_item_id+"/localizations/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/menus/"+this.menu_id+"/items/"+this.menu_item_id+"/localizations/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"menu item localization added successfully",dismissable:!0}),this.$router.push({name:"MenuItemLocalizations",params:{carousel_id:this.menu_id,carousel_item_id:this.menu_item_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Nu=Iu,Wu=Object(v["a"])(Nu,Tu,Du,!1,null,null,null),Fu=Wu.exports,Ru=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Bu=[],Au={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/menus/"+this.$route.params.menu_id+"/items/"+this.$route.params.menu_item_id+"/localizations/"+this.$route.params.menu_item_localization_id+"/logs/",page_title:"Menu item localization logs"}}},Xu=Au,Hu=Object(v["a"])(Xu,Ru,Bu,!1,null,null,null),qu=Hu.exports,Yu=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{ref:"completeTable",attrs:{api_source:t.api_source,fields:t.fields,files:t.files,arrays:t.arrays,arrays_map:t.arrays_map,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title},scopedSlots:t._u([{key:"activation",fn:function(e){return[e.data.value?a("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"check-circle-fill",variant:"success"},on:{click:function(a){return t.changeStatus(e.data.item)}}}):a("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"dash-circle-fill",variant:"danger"},on:{click:function(a){return t.changeStatus(e.data.item)}}})]}},{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"PublicationNew"}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"childs",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"PublicationAttachments",params:{publication_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"file-text",variant:"secondary"}}),t._v(" Attachments ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"PublicationMediaCollections",params:{publication_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"folder-check",variant:"secondary"}}),t._v(" Media collections ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"PublicationLinks",params:{publication_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"link45deg",variant:"secondary"}}),t._v(" Links ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"PublicationLocalizations",params:{publication_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"PublicationRelated",params:{publication_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"share",variant:"secondary"}}),t._v(" Related publications ")],1)]}},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"PublicationEdit",params:{publication_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-secondary",attrs:{to:{name:"PublicationLocks",params:{publication_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"lock",variant:"white"}}),t._v(" Allowed users ")],1)]}}])})},Vu=[],Gu={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/publications/",fields:["id","name","title",{key:"category_data",label:"Category"},"relevance",{key:"is_active",label:"Active"},{key:"childs",label:"Related"},"actions"],arrays:["category_data"],arrays_map:[{category_data:"name"}],files:["presentation_image"],ordering:"name",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Title",value:"title"},{text:"Relevance",value:"relevance"},{text:"State",value:"is_active"}],page_title:"Publications"}},methods:{changeStatus(t){this.axios.get("/api/editorial-board/publications/"+t.id+"/change-status/").then(e=>{t.is_active=e.data.is_active,this.$refs.completeTable.alerts.push({variant:"success",message:"status changed successfully",dismissable:!0})}).catch(t=>{this.$refs.completeTable.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})}}},Uu=Gu,Ju=Object(v["a"])(Uu,Yu,Vu,!1,null,null,null),Qu=Ju.exports,Ku=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},["raw"!=t.$route.query.mode?a("Breadcrumbs"):t._e(),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("b-card-title",[t._v("New publication")]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files,add_modal_fields:t.add_modal_fields,rich_text_fields:t.rich_text_fields,tag_fields:t.tag_fields}})],1)],1)],1)])],1)])},Zu=[],tm={data(){return{alerts:[],form:{},form_source:"/api/editorial-board/publications/form/",files:{},add_modal_fields:{presentation_image:this.$router.resolve({name:"MediaNew"}).href,preview_image:this.$router.resolve({name:"MediaNew"}).href},rich_text_fields:["content"],tag_fields:["tags"]}},methods:{updateMedia(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.$set(this.files,"presentation_image",t.data.file)})},updateMediaPreview(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.$set(this.files,"preview_image",t.data.file)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/publications/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"publication addedd successfully",dismissable:!0}),"raw"!=this.$route.query.mode&&this.$router.push({name:"Publications",params:{alerts:this.alerts}}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},watch:{"form.preview_image":function(t,e){this.updateMediaPreview(t)},"form.presentation_image":function(t,e){this.updateMedia(t)}}},em=tm,am=Object(v["a"])(em,Ku,Zu,!1,null,null,null),im=am.exports,sm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"PublicationLogs",params:{publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn mx-md-1 btn-outline-secondary btn-sm",attrs:{to:{name:"PublicationAttachments",params:{publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"file-text",variant:"secondary"}}),t._v(" Attachments ")],1),a("router-link",{staticClass:"btn mx-md-1 btn-outline-secondary btn-sm",attrs:{to:{name:"PublicationMediaCollections",params:{publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"folder-check",variant:"secondary"}}),t._v(" Media collections ")],1),a("router-link",{staticClass:"btn mx-md-1 btn-outline-secondary btn-sm",attrs:{to:{name:"PublicationLinks",params:{publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"link45deg",variant:"secondary"}}),t._v(" Links ")],1),a("router-link",{staticClass:"btn mx-md-1 btn-outline-secondary btn-sm",attrs:{to:{name:"PublicationLocalizations",params:{publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1),a("router-link",{staticClass:"btn mx-md-1 btn-outline-secondary btn-sm",attrs:{to:{name:"PublicationRelated",params:{publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"share",variant:"secondary"}}),t._v(" Related publications ")],1)],1),a("div",{staticClass:"pull-right"},[t.is_active?a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.toggleIsActiveModal()}}},[a("b-icon",{attrs:{icon:"x-circle"}}),t._v(" Deactivate ")],1):a("b-button",{staticClass:"mx-md-1",attrs:{variant:"success",size:"sm"},on:{click:function(e){return t.toggleIsActiveModal()}}},[a("b-icon",{attrs:{icon:"check-circle"}}),t._v(" Activate ")],1),a("b-button",{staticClass:"mx-md-1",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("p",[a("b",[t._v("Activation status: ")]),t.is_active?a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.8",variant:"success"}}):a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.8",variant:"danger"}})],1),a("hr"),a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files,add_modal_fields:t.add_modal_fields,rich_text_fields:t.rich_text_fields,tag_fields:t.tag_fields}})],1)],1)],1)])],1)])},rm=[],om={data(){return{alerts:[],publication_id:this.$route.params.publication_id,form:{},form_source:"/api/editorial-board/publications/edit-form/",files:{},add_modal_fields:{presentation_image:this.$router.resolve({name:"MediaNew"}).href,preview_image:this.$router.resolve({name:"MediaNew"}).href},rich_text_fields:["content"],tag_fields:["tags"],page_title:"",is_active:!1,redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))if("categories_data"==e){let t=[];a.forEach(e=>{t.push(e.id)}),this.$set(this.form,e,t)}else"presentation_image"==e||"preview_image"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.$set(this.files,"presentation_image",t.presentation_image.file),this.$set(this.files,"preview_image",t.preview_image.file),this.page_title=t.full_name,this.is_active=t.is_active,t.presentation_image&&this.$refs.form.getOptionsFromParent("presentation_image",[{text:t.presentation_image.title,value:t.presentation_image.id}]),t.preview_image&&this.$refs.form.getOptionsFromParent("preview_image",[{text:t.preview_image.title,value:t.preview_image.id}])},getItem(){let t="/api/editorial-board/publications/"+this.publication_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.publication_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.publication_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},updateMedia(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.files.presentation_image=t.data.file})},updateMediaPreview(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.files.preview_image=t.data.file})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/publications/"+this.publication_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.full_name,this.alerts.push({variant:"success",message:"publication edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/publications/"+this.publication_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"publication removed successfully",dismissable:!0}),this.$router.push({name:"Publications",params:{alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},toggleIsActive(){this.axios.get("/api/editorial-board/publications/"+this.publication_id+"/change-status/").then(t=>{this.alerts.push({variant:"success",message:"status updated successfully",dismissable:!0}),this.is_active=t.data.is_active}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},toggleIsActiveModal(){this.$bvModal.msgBoxConfirm("Do you want really change activation status?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"success",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.toggleIsActive()})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete publication?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)},watch:{"form.preview_image":function(t,e){t&&t!=e&&this.updateMediaPreview(t),t||(this.files.preview_image="")},"form.presentation_image":function(t,e){t&&t!=e&&this.updateMedia(t),t||(this.files.presentation_image="")}}},lm=om,nm=Object(v["a"])(lm,sm,rm,!1,null,null,null),dm=nm.exports,cm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},um=[],mm={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/logs/",page_title:"Publication logs"}}},pm=mm,hm=Object(v["a"])(pm,cm,um,!1,null,null,null),_m=hm.exports,bm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLocks",{attrs:{object_api:t.object_api,object_id:t.object_id,page_title:t.page_title,addNewClass:t.addNewClass}})},fm=[],gm={components:{ObjectLocks:sa},data(){return{addNewClass:"PublicationLockNew",object_api:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/",object_id:this.$route.params.publication_id,page_title:"Publication locks"}}},vm=gm,km=Object(v["a"])(vm,bm,fm,!1,null,null,null),Cm=km.exports,wm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},$m=[],ym={data(){return{alerts:[],publication_id:this.$route.params.publication_id,form:{},form_source:"/api/editorial-board/users/form/"}},methods:{retrieveObject(){let t="/api/editorial-board/publications/"+this.publication_id+"/";this.axios.get(t).then(t=>{this.content_type=t.data.object_content_type}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/locks/"+this.content_type+"/"+this.publication_id+"/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"lock added successfully",dismissable:!0}),this.$router.push({name:"PublicationLocks",params:{publication_id:this.publication_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},mounted(){this.retrieveObject()}},xm=ym,Sm=Object(v["a"])(xm,wm,$m,!1,null,null,null),jm=Sm.exports,Lm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,files:t.files,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"PublicationAttachmentNew",params:{publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"PublicationAttachmentEdit",params:{publication_id:t.publication_id,attachment_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},zm=[],Em={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/attachments/",fields:["id","name","file","file_type","file_size","description","order",{key:"is_active",label:"Active"},"actions"],files:["file"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"File type",value:"file_type"},{text:"File size",value:"file_size"},{text:"Description",value:"description"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Publication attachments",publication_id:this.$route.params.publication_id}}},Om=Em,Pm=Object(v["a"])(Om,Lm,zm,!1,null,null,null),Mm=Pm.exports,Tm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files}})],1)],1)],1)])],1)])},Dm=[],Im={data(){return{alerts:[],publication_id:this.$route.params.publication_id,form:{publication:parseInt(this.$route.params.publication_id)},form_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/attachments/form/",files:{}}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/publications/"+this.publication_id+"/attachments/";t.preventDefault();const a=new FormData;for(var i in this.form)a.append(i,this.form[i]);this.axios.post(e,a,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"publication attachment added successfully",dismissable:!0}),this.$router.push({name:"PublicationAttachments",params:{publication_id:this.publication_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Nm=Im,Wm=Object(v["a"])(Nm,Tm,Dm,!1,null,null,null),Fm=Wm.exports,Rm=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"PublicationAttachmentLogs",params:{publication_id:t.publication_id,attachment_id:t.attachment_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files}})],1)],1)],1)])],1)])},Bm=[],Am={data(){return{alerts:[],publication_id:this.$route.params.publication_id,attachment_id:this.$route.params.attachment_id,form:{},form_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/attachments/form/",files:{},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.$set(this.files,"file",t.file),this.$delete(this.form,"file"),this.page_title=t.name},getItem(){let t="/api/editorial-board/publications/"+this.publication_id+"/attachments/"+this.attachment_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.attachment_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.attachment_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/publications/"+this.publication_id+"/attachments/"+this.attachment_id+"/";t.preventDefault();const a=new FormData;for(var i in this.form)a.append(i,this.form[i]);this.axios.patch(e,a,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"publication attachment edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/publications/"+this.publication_id+"/attachments/"+this.attachment_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"publication attachment removed successfully",dismissable:!0}),this.$router.push({name:"PublicationAttachments",params:{publication_id:this.publication_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete publication attachment?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},Xm=Am,Hm=Object(v["a"])(Xm,Rm,Bm,!1,null,null,null),qm=Hm.exports,Ym=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Vm=[],Gm={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/attachments/"+this.$route.params.attachment_id+"/logs/",page_title:"Publication attachment logs"}}},Um=Gm,Jm=Object(v["a"])(Um,Ym,Vm,!1,null,null,null),Qm=Jm.exports,Km=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"PublicationMediaCollectionNew",params:{publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"MediaCollectionEdit",params:{collection_id:e.item.collection.id}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to media collection ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"PublicationMediaCollectionEdit",params:{publication_id:t.publication_id,collection_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},Zm=[],tp={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/media-collections/",fields:["id",{key:"collection.name",label:"Collection"},"order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Collection name",value:"collection.name"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Publication media collections",publication_id:this.$route.params.publication_id}}},ep=tp,ap=Object(v["a"])(ep,Km,Zm,!1,null,null,null),ip=ap.exports,sp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},rp=[],op={data(){return{alerts:[],publication_id:this.$route.params.publication_id,form:{publication:parseInt(this.$route.params.publication_id)},form_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/media-collections/form/",add_modal_fields:{collection:this.$router.resolve({name:"MediaCollectionNew"}).href}}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/publications/"+this.publication_id+"/media-collections/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"publication media-collection added successfully",dismissable:!0}),this.$router.push({name:"PublicationMediaCollections",params:{publication_id:this.publication_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},lp=op,np=Object(v["a"])(lp,sp,rp,!1,null,null,null),dp=np.exports,cp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"PublicationMediaCollectionLogs",params:{publication_id:t.publication_id,collection_id:t.collection_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},up=[],mp={data(){return{alerts:[],publication_id:this.$route.params.publication_id,collection_id:this.$route.params.collection_id,form:{},form_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/media-collections/form/",add_modal_fields:{collection:this.$router.resolve({name:"MediaCollectionNew"}).href},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"collection"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.page_title=t.collection.name,this.$refs.form.getOptionsFromParent("collection",[{text:t.collection.name,value:t.collection.id}])},getItem(){let t="/api/editorial-board/publications/"+this.publication_id+"/media-collections/"+this.collection_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.collection_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.collection_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/publications/"+this.publication_id+"/media-collections/"+this.collection_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.collection.name,this.alerts.push({variant:"success",message:"publication media-collection edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/publications/"+this.publication_id+"/media-collections/"+this.collection_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"publication media-collection removed successfully",dismissable:!0}),this.$router.push({name:"PublicationMediaCollections",params:{publication_id:this.publication_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete publication media-collection?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},pp=mp,hp=Object(v["a"])(pp,cp,up,!1,null,null,null),_p=hp.exports,bp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},fp=[],gp={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/media-collections/"+this.$route.params.collection_id+"/logs/",page_title:"Publication media-collection logs"}}},vp=gp,kp=Object(v["a"])(vp,bp,fp,!1,null,null,null),Cp=kp.exports,wp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1,showIsActive:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"PublicationLinkNew",params:{publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"PublicationLinkEdit",params:{publication_id:t.publication_id,link_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},$p=[],yp={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/links/",fields:["id","name","url","actions"],ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"URL",value:"url"}],page_title:"Publication links",publication_id:this.$route.params.publication_id}}},xp=yp,Sp=Object(v["a"])(xp,wp,$p,!1,null,null,null),jp=Sp.exports,Lp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("b-card-title",[t._v("New publication link")]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},zp=[],Ep={data(){return{alerts:[],form:{publication:parseInt(this.$route.params.publication_id)},publication_id:this.$route.params.publication_id,form_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/links/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/publications/"+this.publication_id+"/links/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"publication addedd successfully",dismissable:!0}),this.$router.push({name:"PublicationLinks",params:{publication_id:this.publication_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Op=Ep,Pp=Object(v["a"])(Op,Lp,zp,!1,null,null,null),Mp=Pp.exports,Tp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"PublicationLinkLogs",params:{publication_id:t.publication_id,link_id:t.link_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Dp=[],Ip={data(){return{alerts:[],publication_id:this.$route.params.publication_id,link_id:this.$route.params.link_id,form:{},form_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/links/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.name},getItem(){let t="/api/editorial-board/publications/"+this.$route.params.publication_id+"/links/"+this.link_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.link_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.link_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/publications/"+this.$route.params.publication_id+"/links/"+this.link_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"publication link edited successfully",dismissable:!0}),this.$router.push({name:"PublicationLinks",params:{publication_id:this.publication_id,alerts:this.alerts}}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/publications/"+this.publication_id+"/links/"+this.link_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"publication link removed successfully",dismissable:!0})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete publication link?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},Np=Ip,Wp=Object(v["a"])(Np,Tp,Dp,!1,null,null,null),Fp=Wp.exports,Rp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Bp=[],Ap={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/links/"+this.$route.params.link_id+"/logs/",page_title:"Publication link logs"}}},Xp=Ap,Hp=Object(v["a"])(Xp,Rp,Bp,!1,null,null,null),qp=Hp.exports,Yp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"PublicationLocalizationNew",params:{publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"PublicationLocalizationEdit",params:{publication_id:t.publication_id,localization_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},Vp=[],Gp={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/localizations/",fields:["id","language","title",{key:"is_active",sortable:!0},"actions"],ordering:"language",ordering_list:[{text:"Id",value:"id"},{text:"Language",value:"language"},{text:"Title",value:"title"},{text:"State",value:"is_active"}],page_title:"Publication localizations",publication_id:this.$route.params.publication_id}}},Up=Gp,Jp=Object(v["a"])(Up,Yp,Vp,!1,null,null,null),Qp=Jp.exports,Kp=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,rich_text_fields:t.rich_text_fields}})],1)],1)],1)])],1)])},Zp=[],th={data(){return{alerts:[],publication_id:this.$route.params.publication_id,form:{publication:parseInt(this.$route.params.publication_id)},form_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/localizations/form/",rich_text_fields:["content"]}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/publications/"+this.publication_id+"/localizations/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"publication localization added successfully",dismissable:!0}),this.$router.push({name:"PublicationLocalizations",params:{publication_id:this.publication_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},eh=th,ah=Object(v["a"])(eh,Kp,Zp,!1,null,null,null),ih=ah.exports,sh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"PublicationLocalizationLogs",params:{publication_id:t.publication_id,localization_id:t.localization_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,rich_text_fields:t.rich_text_fields}})],1)],1)],1)])],1)])},rh=[],oh={data(){return{alerts:[],publication_id:this.$route.params.publication_id,localization_id:this.$route.params.localization_id,form:{},form_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/localizations/form/",rich_text_fields:["content"],page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.title},getItem(){let t="/api/editorial-board/publications/"+this.publication_id+"/localizations/"+this.localization_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.localization_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.localization_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/publications/"+this.publication_id+"/localizations/"+this.localization_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"publication localization edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/publications/"+this.publication_id+"/localizations/"+this.localization_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"publication localization removed successfully",dismissable:!0}),this.$router.push({name:"PublicationLocalizations",params:{publication_id:this.publication_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete publication localization?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},lh=oh,nh=Object(v["a"])(lh,sh,rh,!1,null,null,null),dh=nh.exports,ch=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},uh=[],mh={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/localizations/"+this.$route.params.localization_id+"/logs/",page_title:"Publication localization logs"}}},ph=mh,hh=Object(v["a"])(ph,ch,uh,!1,null,null,null),_h=hh.exports,bh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,arrays:t.arrays,arrays_map:t.arrays_map,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"PublicationRelatedNew",params:{publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"PublicationEdit",params:{publication_id:e.item.related.id}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to publication ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"PublicationRelatedEdit",params:{publication_id:t.publication_id,related_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},fh=[],gh={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/related/",arrays:["related.category"],arrays_map:[{"related.category":"name"}],fields:["id",{key:"related.name",label:"Name"},{key:"related.title",label:"Title"},{key:"related.category",label:"Category"},{key:"related.relevance",label:"Relevance"},{key:"is_active",sortable:!0},"actions"],ordering:"name",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"related.name"},{text:"Title",value:"related.title"},{text:"Relevance",value:"related.relevance"},{text:"State",value:"is_active"}],page_title:"Publication related",publication_id:this.$route.params.publication_id}}},vh=gh,kh=Object(v["a"])(vh,bh,fh,!1,null,null,null),Ch=kh.exports,wh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},$h=[],yh={data(){return{alerts:[],publication_id:this.$route.params.publication_id,form:{publication:parseInt(this.$route.params.publication_id)},form_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/related/form/",add_modal_fields:{related:this.$router.resolve({name:"PublicationNew"}).href}}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/publications/"+this.publication_id+"/related/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"related publication added successfully",dismissable:!0}),this.$router.push({name:"PublicationRelated",params:{publication_id:this.publication_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},xh=yh,Sh=Object(v["a"])(xh,wh,$h,!1,null,null,null),jh=Sh.exports,Lh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"PublicationRelatedLogs",params:{publication_id:t.publication_id,related_id:t.related_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},zh=[],Eh={data(){return{alerts:[],publication_id:this.$route.params.publication_id,related_id:this.$route.params.related_id,form:{},form_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/related/form/",add_modal_fields:{related:this.$router.resolve({name:"PublicationNew"}).href},page_title:""}},methods:{setData(t){for(const[e,a]of Object.entries(t))"related"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.page_title=t.related.full_name,this.$refs.form.getOptionsFromParent("related",[{text:t.related.full_name,value:t.related.id}])},getItem(){let t="/api/editorial-board/publications/"+this.publication_id+"/related/"+this.related_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.related_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.related_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/publications/"+this.publication_id+"/related/"+this.related_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"related publication edited successfully",dismissable:!0}),this.page_title=t.data.related.full_name,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/publications/"+this.publication_id+"/related/"+this.localization_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"related publication removed successfully",dismissable:!0}),this.$router.push({name:"PublicationRelated",params:{publication_id:this.publication_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete related publication?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()}},Oh=Eh,Ph=Object(v["a"])(Oh,Lh,zh,!1,null,null,null),Mh=Ph.exports,Th=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Dh=[],Ih={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/publications/"+this.$route.params.publication_id+"/related/"+this.$route.params.related_id+"/logs/",page_title:"Publication related logs"}}},Nh=Ih,Wh=Object(v["a"])(Nh,Th,Dh,!1,null,null,null),Fh=Wh.exports,Rh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("b-card",{attrs:{title:"My active WebSites"}},[a("b-card-text",{staticClass:"mt-4"},[a("div",{staticClass:"all-icons"},[a("div",{staticClass:"row websites-cards"},t._l(t.items,(function(e){return a("div",{staticClass:"col-lg-3 col-md-6 col-sm-12 mb-3"},[a("b-card",{scopedSlots:t._u([{key:"footer",fn:function(){return[a("router-link",{staticClass:"btn btn-info",attrs:{to:{name:"Webpaths",params:{site_id:e.id}}}},[t._v(" Manage ")])]},proxy:!0}],null,!0)},[a("b-card-text",[a("h4",{staticClass:"mt-2 mb-3"},[a("b-icon",{attrs:{icon:"globe",scale:"0.8"}}),t._v(" "+t._s(e.name)+" ")],1),a("hr"),a("p",{staticClass:"mt-3"},[t._v(t._s(e.domain))])])],1)],1)})),0)])])],1)],1)])],1)])},Bh=[],Ah={data(){return{items:[]}},methods:{callApi(){this.axios.get("/api/editorial-board/sites/").then(t=>this.items=t.data.results)}},mounted(){this.callApi()}},Xh=Ah,Hh=Object(v["a"])(Xh,Rh,Bh,!1,null,null,null),qh=Hh.exports,Yh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathNew",params:{site_id:t.site_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"childs",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPages",params:{site_id:t.site_id,webpath_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"display",variant:"secondary"}}),t._v(" Pages ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPublications",params:{site_id:t.site_id,webpath_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"file-text",variant:"secondary"}}),t._v(" News ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathCalendars",params:{site_id:t.site_id,webpath_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"calendar2-date",variant:"secondary"}}),t._v(" Calendars ")],1)]}},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathEdit",params:{site_id:t.site_id,webpath_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-warning text-white",attrs:{to:{name:"WebpathClone",params:{site_id:t.site_id,webpath_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"files",variant:"white"}}),t._v(" Clone ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-secondary",attrs:{to:{name:"WebpathLocks",params:{site_id:t.site_id,webpath_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"lock",variant:"white"}}),t._v(" Allowed users ")],1)]}}])})},Vh=[],Gh={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/",fields:["id","name",{key:"get_full_path",label:"Path"},{key:"is_active",label:"Active"},{key:"childs",label:"Related"},"actions"],ordering:"fullpath",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Path",value:"fullpath"},{text:"State",value:"is_active"}],site_id:this.$route.params.site_id,page_title:"Website webpaths"}}},Uh=Gh,Jh=Object(v["a"])(Uh,Yh,Vh,!1,null,null,null),Qh=Jh.exports,Kh=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"Website webpaths"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Zh=[],t_={data(){return{alerts:[],site_id:this.$route.params.site_id,form:{site:parseInt(this.$route.params.site_id)},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:t.data.name,dismissable:!0}),this.$router.push({name:"Webpaths",params:{site_id:this.site_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},e_=t_,a_=Object(v["a"])(e_,Kh,Zh,!1,null,null,null),i_=a_.exports,s_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn mx-md-1 btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPages",params:{site_id:t.site_id,webpath_id:t.webpath_id}}}},[a("b-icon",{attrs:{icon:"display",variant:"secondary"}}),t._v(" Pages ")],1),a("router-link",{staticClass:"btn mx-md-1 btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPublications",params:{site_id:t.site_id,webpath_id:t.webpath_id}}}},[a("b-icon",{attrs:{icon:"file-text",variant:"secondary"}}),t._v(" News ")],1)],1),a("div",{staticClass:"pull-right"},[a("router-link",{staticClass:"mx-md-1 btn btn-sm btn-warning text-white",attrs:{to:{name:"WebpathClone",params:{site_id:t.site_id,webpath_id:t.webpath_id}}}},[a("b-icon",{attrs:{icon:"files",variant:"white"}}),t._v(" Clone ")],1),a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},r_=[],o_={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"parent"==e||"alias"==e?a&&this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.page_title=t.full_name,t.alias&&this.$refs.form.getOptionsFromParent("alias",[{text:t.alias.full_name,value:t.alias.id}]),t.parent&&this.$refs.form.getOptionsFromParent("parent",[{text:t.parent.full_name,value:t.parent.id}])},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.webpath_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.webpath_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/";t.preventDefault(),this.axios.put(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:t.data.name+" edited successfully",dismissable:!0}),this.page_title=t.data.full_name,this.form.path=t.data.path,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"webpath removed successfully",dismissable:!0}),this.$router.push({name:"Webpaths",params:{site_id:this.site_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete webpath?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},l_=o_,n_=Object(v["a"])(l_,s_,r_,!1,null,null,null),d_=n_.exports,c_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"Webpath clone"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},u_=[],m_={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/clone/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/clone/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:t.data,dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},p_=m_,h_=Object(v["a"])(p_,c_,u_,!1,null,null,null),__=h_.exports,b_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},f_=[],g_={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/logs/",page_title:"Webpath logs"}}},v_=g_,k_=Object(v["a"])(v_,b_,f_,!1,null,null,null),C_=k_.exports,w_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLocks",{attrs:{object_api:t.object_api,object_id:t.object_id,page_title:t.page_title,addNewClass:t.addNewClass}})},$_=[],y_={components:{ObjectLocks:sa},data(){return{addNewClass:"WebpathLockNew",object_api:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/",object_id:this.$route.params.webpath_id,page_title:"Webpath locks"}}},x_=y_,S_=Object(v["a"])(x_,w_,$_,!1,null,null,null),j_=S_.exports,L_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},z_=[],E_={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,form:{},form_source:"/api/editorial-board/users/form/"}},methods:{retrieveObject(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/";this.axios.get(t).then(t=>{this.content_type=t.data.object_content_type}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/locks/"+this.content_type+"/"+this.webpath_id+"/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"lock added successfully",dismissable:!0}),this.$router.push({name:"WebpathLocks",params:{site_id:this.site_id,webpath_id:this.webpath_id,alerts:this.alerts}}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},mounted(){this.retrieveObject()}},O_=E_,P_=Object(v["a"])(O_,L_,z_,!1,null,null,null),M_=P_.exports,T_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,dates:t.dates,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPublicationNew",params:{site_id:t.site_id,webpath_id:t.webpath_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"PublicationEdit",params:{publication_id:e.item.publication.id}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to publication ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPublicationEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,publication_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},D_=[],I_={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/publication-contexts/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,fields:["id",{key:"publication.name",label:"Name"},{key:"publication.title",label:"Title"},"date_start","date_end","in_evidence_start","in_evidence_end","order",{key:"is_active",label:"Active"},"actions"],dates:["date_start","date_end","in_evidence_start","in_evidence_end"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"publication__name"},{text:"Title",value:"publication__title"},{text:"Date start",value:"date_start"},{text:"Date end",value:"date_end"},{text:"In evidence start",value:"in_evidence_start"},{text:"In evidence end",value:"in_evidence_end"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Webpath news"}}},N_=I_,W_=Object(v["a"])(N_,T_,D_,!1,null,null,null),F_=W_.exports,R_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},B_=[],A_={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,form:{webpath:parseInt(this.$route.params.webpath_id)},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/publication-contexts/form/",add_modal_fields:{publication:this.$router.resolve({name:"PublicationNew"}).href}}},methods:{getWebpath(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/options/"+this.webpath_id+"/";this.axios.get(t).then(t=>{this.$refs.form.getOptionsFromParent("webpath",[{text:t.data.text,value:t.data.value}])})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/publication-contexts/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"webpath publication added successfully",dismissable:!0}),this.$router.push({name:"WebpathPublications",params:{site_id:this.site_id,webpath_id:this.webpath_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},mounted(){this.getWebpath()}},X_=A_,H_=Object(v["a"])(X_,R_,B_,!1,null,null,null),q_=H_.exports,Y_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPublicationLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},V_=[],G_={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,publication_id:this.$route.params.publication_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/publication-contexts/form/",page_title:"",date_fields:["date_start","date_end","in_evidence_start","in_evidence_end"],redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"publication"==e||"webpath"==e?this.$set(this.form,e,a.id):this.date_fields.includes(e)&&a?this.$set(this.form,e,a.substr(0,16).replace("T"," ")):this.$set(this.form,e,a);this.page_title=t.publication.full_name,this.$refs.form.getOptionsFromParent("webpath",[{text:t.webpath.full_name,value:t.webpath.id}]),this.$refs.form.getOptionsFromParent("publication",[{text:t.publication.full_name,value:t.publication.id}])},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/publication-contexts/"+this.publication_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.publication_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.publication_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/publication-contexts/"+this.publication_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"webpath publication edited successfully",dismissable:!0}),this.webpath_id=t.data.webpath.id,this.$router.push({name:"WebpathPublicationEdit",params:{site_id:this.site_id,webpath_id:this.webpath_id,publication_id:this.publication_id,alerts:this.alerts}}).catch(()=>{}),this.page_title=t.data.publication.full_name,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/publication-contexts/"+this.publication_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"webpath publication removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPublications",params:{site_id:this.site_id,webpath_id:this.webpath_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete webpath publication?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},U_=G_,J_=Object(v["a"])(U_,Y_,V_,!1,null,null,null),Q_=J_.exports,K_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Z_=[],tb={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/publication-contexts/"+this.$route.params.publication_id+"/logs/",page_title:"Webpath publication logs"}}},eb=tb,ab=Object(v["a"])(eb,K_,Z_,!1,null,null,null),ib=ab.exports,sb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{ref:"completeTable",attrs:{api_source:t.api_source,dates:t.dates,fields:t.fields,files:t.files,arrays:t.arrays,arrays_map:t.arrays_map,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"activation",fn:function(e){return[e.data.value?a("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"check-circle-fill",variant:"success"},on:{click:function(a){return t.changeStatus(e.data.item)}}}):a("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"dash-circle-fill",variant:"danger"},on:{click:function(a){return t.changeStatus(e.data.item)}}})]}},{key:"state",fn:function(e){return["published"==e.data.value?a("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"check-circle-fill",variant:"success"},on:{click:function(a){return t.publishUnpublish(e.data.item)}}}):a("b-icon",{staticStyle:{cursor:"pointer"},attrs:{icon:"exclamation-triangle-fill",variant:"warning"},on:{click:function(a){return t.publishUnpublish(e.data.item)}}})]}},{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPageNew",params:{site_id:t.site_id,webpath_id:t.webpath_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"childs",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPageBlocks",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"box-seam",variant:"secondary"}}),t._v(" Blocks ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPageCarousels",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"collection-play",variant:"secondary"}}),t._v(" Carousels ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPageContacts",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"person-lines-fill",variant:"secondary"}}),t._v(" Contacts ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPageHeadings",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"card-heading",variant:"secondary"}}),t._v(" Headings ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPageLinks",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"link45deg",variant:"secondary"}}),t._v(" Links ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPageLocalizations",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPageMedia",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"folder",variant:"secondary"}}),t._v(" Media ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPageMediaCollections",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"folder-check",variant:"secondary"}}),t._v(" Media collections ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPageMenus",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"menu-button-wide-fill",variant:"secondary"}}),t._v(" Menu ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPagePublications",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"file-text",variant:"secondary"}}),t._v(" Publications ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPageRelated",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"share",variant:"secondary"}}),t._v(" Related pages ")],1)]}},{key:"actions",fn:function(e){return[a("b-button",{staticClass:"btn btn-block btn-sm btn-secondary text-white",attrs:{href:e.item.preview_url,target:"_blank"}},[a("b-icon",{attrs:{icon:"eye",variant:"white"}}),t._v(" Preview ")],1),a("b-button",{staticClass:"btn btn-block btn-sm btn-warning text-white",on:{click:function(a){return t.copyAsDraftModal(e.item.id)}}},[a("b-icon",{attrs:{icon:"files",variant:"white"}}),t._v(" Copy as draft ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPageEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-secondary",attrs:{to:{name:"WebpathPageLocks",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"lock",variant:"white"}}),t._v(" Allowed users ")],1)]}}])})},rb=[],ob={components:{CompleteTable:we},data(){return{site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/",fields:["id",{key:"name",label:"Name"},{key:"title",label:"Title"},{key:"base_template.name",label:"Template"},{key:"base_template.image",label:"Image"},"date_start","date_end","type",{key:"state",label:"Published"},{key:"is_active",label:"Active"},{key:"childs",label:"Related"},"actions"],dates:["date_start","date_end"],files:["base_template.image"],ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Title",value:"title"},{text:"Date start",value:"date_start"},{text:"Date end",value:"date_end"},{text:"State",value:"is_active"}],page_title:"Webpath pages"}},methods:{copyAsDraft(t){this.axios.get(this.api_source+t+"/copy-as-draft/").then(t=>{this.$refs.completeTable.alerts.push({variant:"success",message:"webpath page copied as draft successfully",dismissable:!0}),this.$refs.completeTable.callApi()}).catch(t=>{this.$refs.completeTable.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},copyAsDraftModal(t){this.$bvModal.msgBoxConfirm("Do you want really copy webpath page as draft?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"warning",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(e=>{e&&this.copyAsDraft(t)})},changeStatus(t){this.axios.get(this.api_source+t.id+"/change-status/").then(e=>{this.$refs.completeTable.alerts.push({variant:"success",message:"webpath page status changed successfully",dismissable:!0}),t.is_active=e.data.is_active}).catch(t=>{this.$refs.completeTable.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},publishUnpublish(t){this.axios.get(this.api_source+t.id+"/change-publication-status/").then(e=>{let a=this.$refs.completeTable.items.find(e=>e.id===t.draft_of);t.state=e.data.state,t.is_active=e.data.is_active,t.draft_of=e.data.draft_of,a&&(a.is_active=!1),this.$refs.completeTable.alerts.push({variant:"success",message:"webpath page publication status changed successfully",dismissable:!0})}).catch(t=>{this.$refs.completeTable.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})}}},lb=ob,nb=Object(v["a"])(lb,sb,rb,!1,null,null,null),db=nb.exports,cb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,files:t.files,submit:t.onSubmit,form_source:t.form_source,tag_fields:t.tag_fields}})],1)],1)],1)])],1)])},ub=[],mb={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,form:{webpath:parseInt(this.$route.params.webpath_id)},files:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/form/",tag_fields:["tags"]}},methods:{getWebpath(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/options/"+this.webpath_id+"/";this.axios.get(t).then(t=>{this.$refs.form.getOptionsFromParent("webpath",[{text:t.data.text,value:t.data.value}])})},onSubmit(t){let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page added successfully",dismissable:!0}),this.$router.push({name:"WebpathPages",params:{site_id:this.site_id,webpath_id:this.webpath_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},updateMedia(t){let e="/api/editorial-board/page-templates/"+t+"/";this.axios.get(e).then(t=>{this.$set(this.files,"base_template",t.data.image)})}},mounted(){this.getWebpath()},watch:{"form.base_template":function(t,e){this.updateMedia(t)}}},pb=mb,hb=Object(v["a"])(pb,cb,ub,!1,null,null,null),_b=hb.exports,bb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-3 text-right"},[t.is_active?a("b-button",{staticClass:"mx-md-1",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.toggleIsActiveModal()}}},[a("b-icon",{attrs:{icon:"x-circle"}}),t._v(" Deactivate ")],1):a("b-button",{staticClass:"mx-md-1",attrs:{variant:"success",size:"sm"},on:{click:function(e){return t.toggleIsActiveModal()}}},[a("b-icon",{attrs:{icon:"check-circle"}}),t._v(" Activate ")],1),"draft"===t.published?a("b-button",{staticClass:"mx-md-1",attrs:{variant:"success",size:"sm"},on:{click:function(e){return t.togglePublishModal()}}},[a("b-icon",{attrs:{icon:"check-circle"}}),t._v(" Publish ")],1):"published"===t.published?a("b-button",{staticClass:"mx-md-1",attrs:{variant:"info",size:"sm"},on:{click:function(e){return t.togglePublishModal()}}},[a("b-icon",{attrs:{icon:"x-circle"}}),t._v(" Make it draft ")],1):t._e(),a("b-button",{staticClass:"mx-md-1",attrs:{href:t.preview_url,target:"_blank",variant:"secondary",size:"sm"}},[a("b-icon",{attrs:{icon:"eye"}}),t._v(" Preview ")],1),a("b-button",{staticClass:"mx-md-1",attrs:{variant:"warning text-white",size:"sm"},on:{click:function(e){return t.copyAsDraftModal()}}},[a("b-icon",{attrs:{icon:"files",variant:"white"}}),t._v(" Copy as draft ")],1),a("b-button",{staticClass:"mx-md-1",attrs:{variant:"danger",size:"sm"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1),a("hr"),a("div",{staticClass:"clearfix mb-5"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPageLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn btn-outline-secondary mx-md-1 btn-sm",attrs:{to:{name:"WebpathPageBlocks",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"box-seam",variant:"secondary"}}),t._v(" Blocks ")],1),a("router-link",{staticClass:"btn btn-outline-secondary mx-md-1 btn-sm",attrs:{to:{name:"WebpathPageCarousels",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"collection-play",variant:"secondary"}}),t._v(" Carousels ")],1),a("router-link",{staticClass:"btn btn-outline-secondary mx-md-1 btn-sm",attrs:{to:{name:"WebpathPageContacts",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"person-lines-fill",variant:"secondary"}}),t._v(" Contacts ")],1),a("router-link",{staticClass:"btn btn-outline-secondary mx-md-1 btn-sm",attrs:{to:{name:"WebpathPageHeadings",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"card-heading",variant:"secondary"}}),t._v(" Headings ")],1),a("router-link",{staticClass:"btn btn-outline-secondary mx-md-1 btn-sm",attrs:{to:{name:"WebpathPageLinks",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"link45deg",variant:"secondary"}}),t._v(" Links ")],1),a("router-link",{staticClass:"btn btn-outline-secondary mx-md-1 btn-sm",attrs:{to:{name:"WebpathPageLocalizations",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1),a("router-link",{staticClass:"btn btn-outline-secondary mx-md-1 btn-sm",attrs:{to:{name:"WebpathPageMedia",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"folder",variant:"secondary"}}),t._v(" Media ")],1),a("router-link",{staticClass:"btn btn-outline-secondary mx-md-1 btn-sm",attrs:{to:{name:"WebpathPageMediaCollections",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"folder-check",variant:"secondary"}}),t._v(" Media collections ")],1),a("router-link",{staticClass:"btn btn-outline-secondary mx-md-1 btn-sm",attrs:{to:{name:"WebpathPageMenus",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"menu-button-wide-fill",variant:"secondary"}}),t._v(" Menu ")],1),a("router-link",{staticClass:"btn btn-outline-secondary mx-md-1 btn-sm",attrs:{to:{name:"WebpathPagePublications",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"file-text",variant:"secondary"}}),t._v(" Publications ")],1),a("router-link",{staticClass:"btn btn-outline-secondary mx-md-1 btn-sm",attrs:{to:{name:"WebpathPageRelated",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"share",variant:"secondary"}}),t._v(" Related pages ")],1)],1),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("p",[a("b",[t._v("Activation status: ")]),t.is_active?a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.8",variant:"success"}}):a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.8",variant:"danger"}}),a("br"),a("b",[t._v("Publication status: ")]),"published"===t.published?a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.8",variant:"success"}}):"draft"===t.published?a("b-icon",{attrs:{icon:"circle-fill","font-scale":"0.8",variant:"warning"}}):t._e()],1),a("hr"),a("django-form",{ref:"form",attrs:{form:t.form,files:t.files,submit:t.onSubmit,form_source:t.form_source,tag_fields:t.tag_fields}})],1)],1)],1)])],1)])},fb=[],gb={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{},files:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/pages/form/",tag_fields:["tags"],page_title:"",preview_url:"",is_active:!1,published:"",date_fields:["date_start","date_end"],redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"base_template"==e||"webpath"==e?this.$set(this.form,e,a.id):this.date_fields.includes(e)&&a?this.$set(this.form,e,a.substr(0,16).replace("T"," ")):this.$set(this.form,e,a),this.$set(this.files,"base_template",t.base_template.image),this.page_title=t.name,this.preview_url=t.preview_url,this.is_active=t.is_active,this.published=t.state,this.$refs.form.getOptionsFromParent("webpath",[{text:t.webpath.full_name,value:t.webpath.id}])},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.page_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.page_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page edited successfully",dismissable:!0}),this.webpath_id=t.data.webpath.id,this.$router.push({name:"WebpathPageEdit",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}}).catch(()=>{}),this.page_title=t.data.name,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},copyAsDraft(){this.axios.get("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/copy-as-draft/").then(t=>{this.alerts.push({variant:"success",message:"webpath page copied as draft successfully",dismissable:!0}),this.$router.push({name:"WebpathPages",params:{site_id:this.site_id,webpath_id:this.webpath_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},toggleIsActive(){this.axios.get("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/change-status/").then(t=>{this.alerts.push({variant:"success",message:"status updated successfully",dismissable:!0}),this.is_active=t.data.is_active}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},togglePublish(){this.axios.get("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/change-publication-status/").then(t=>{this.alerts.push({variant:"success",message:"publication status updated successfully",dismissable:!0}),this.published=t.data.state}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPages",params:{site_id:this.site_id,webpath_id:this.webpath_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},copyAsDraftModal(){this.$bvModal.msgBoxConfirm("Do you want really copy webpath page as draft?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"warning",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.copyAsDraft()})},toggleIsActiveModal(){this.$bvModal.msgBoxConfirm("Do you want really change activation status?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"success",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.toggleIsActive()})},togglePublishModal(){this.$bvModal.msgBoxConfirm("Do you want really change publication status?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"success",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.togglePublish()})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})},updateMedia(t){let e="/api/editorial-board/page-templates/"+t+"/";this.axios.get(e).then(t=>{this.files.base_template=t.data.image})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)},watch:{"form.base_template":function(t,e){t&&t!=e&&this.updateMedia(t),t||(this.files.base_template="")}}},vb=gb,kb=Object(v["a"])(vb,bb,fb,!1,null,null,null),Cb=kb.exports,wb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},$b=[],yb={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/logs/",page_title:"Page logs"}}},xb=yb,Sb=Object(v["a"])(xb,wb,$b,!1,null,null,null),jb=Sb.exports,Lb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLocks",{attrs:{object_api:t.object_api,object_id:t.object_id,page_title:t.page_title,addNewClass:t.addNewClass}})},zb=[],Eb={components:{ObjectLocks:sa},data(){return{addNewClass:"WebpathPageLockNew",object_api:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/",object_id:this.$route.params.page_id,page_title:"Page locks"}}},Ob=Eb,Pb=Object(v["a"])(Ob,Lb,zb,!1,null,null,null),Mb=Pb.exports,Tb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Db=[],Ib={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{},form_source:"/api/editorial-board/users/form/"}},methods:{retrieveObject(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/";this.axios.get(t).then(t=>{this.content_type=t.data.object_content_type}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0})})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/locks/"+this.content_type+"/"+this.page_id+"/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"lock added successfully",dismissable:!0}),this.$router.push({name:"WebpathPageLocks",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},mounted(){this.retrieveObject()}},Nb=Ib,Wb=Object(v["a"])(Nb,Tb,Db,!1,null,null,null),Fb=Wb.exports,Rb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPageCarouselNew",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"CarouselEdit",params:{carousel_id:e.item.carousel.id}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to carousel ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPageCarouselEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,carousel_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},Bb=[],Ab={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/carousels/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,fields:["id",{key:"carousel.name",label:"Carousel"},"order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"carousel__name"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Page carousels"}}},Xb=Ab,Hb=Object(v["a"])(Xb,Rb,Bb,!1,null,null,null),qb=Hb.exports,Yb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},Vb=[],Gb={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{page:parseInt(this.$route.params.page_id)},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/carousels/form/",add_modal_fields:{carousel:this.$router.resolve({name:"CarouselNew"}).href}}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/carousels/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page carousel added successfully",dismissable:!0}),this.$router.push({name:"WebpathPageCarousels",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Ub=Gb,Jb=Object(v["a"])(Ub,Yb,Vb,!1,null,null,null),Qb=Jb.exports,Kb=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPageCarouselLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,carousel_id:t.carousel_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},Zb=[],tf={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,carousel_id:this.$route.params.carousel_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/carousels/form/",add_modal_fields:{carousel:this.$router.resolve({name:"CarouselNew"}).href},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"carousel"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.page_title=t.carousel.name,this.$refs.form.getOptionsFromParent("carousel",[{text:t.carousel.name,value:t.carousel.id}])},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/carousels/"+this.carousel_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.carousel_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.carousel_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/carousels/"+this.carousel_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page carousel edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/carousels/"+this.carousel_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.carousel.name,this.alerts.push({variant:"success",message:"page carousel removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPageCarousels",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page carousel?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},ef=tf,af=Object(v["a"])(ef,Kb,Zb,!1,null,null,null),sf=af.exports,rf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},of=[],lf={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/carousels/"+this.$route.params.carousel_id+"/logs/",page_title:"Page carousel logs"}}},nf=lf,df=Object(v["a"])(nf,rf,of,!1,null,null,null),cf=df.exports,uf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPageContactNew",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"ContactEdit",params:{contact_id:e.item.contact.id}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to contact ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPageContactEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,contact_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},mf=[],pf={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/contacts/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,fields:["id",{key:"contact.name",label:"Contact"},{key:"contact.contact_type",label:"Type"},"order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"contact__name"},{text:"Type",value:"contact__contact_type"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Page contacts"}}},hf=pf,_f=Object(v["a"])(hf,uf,mf,!1,null,null,null),bf=_f.exports,ff=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},gf=[],vf={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{page:parseInt(this.$route.params.page_id)},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/contacts/form/",add_modal_fields:{contact:this.$router.resolve({name:"ContactNew"}).href}}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/contacts/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page contact added successfully",dismissable:!0}),this.$router.push({name:"WebpathPageContacts",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},kf=vf,Cf=Object(v["a"])(kf,ff,gf,!1,null,null,null),wf=Cf.exports,$f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPageContactLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,contact_id:t.contact_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},yf=[],xf={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,contact_id:this.$route.params.contact_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/contacts/form/",add_modal_fields:{contact:this.$router.resolve({name:"ContactNew"}).href},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"contact"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.page_title=t.contact.name,this.$refs.form.getOptionsFromParent("contact",[{text:t.contact.name,value:t.contact.id}])},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/contacts/"+this.contact_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.contact_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.contact_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/contacts/"+this.contact_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page contact edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/contacts/"+this.contact_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.contact.name,this.alerts.push({variant:"success",message:"page contact removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPageContacts",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page contact?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},Sf=xf,jf=Object(v["a"])(Sf,$f,yf,!1,null,null,null),Lf=jf.exports,zf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Ef=[],Of={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/contacts/"+this.$route.params.contact_id+"/logs/",page_title:"Page contact logs"}}},Pf=Of,Mf=Object(v["a"])(Pf,zf,Ef,!1,null,null,null),Tf=Mf.exports,Df=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,files:t.files,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"text",fn:function(){return[a("div",{staticClass:"accordion",attrs:{role:"tablist"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"info"}},[t._v(" Template default blocks ")]),a("b-collapse",{attrs:{id:"accordion-1",accordion:"blocks-accordion",role:"tabpanel"}},[a("b-table",{ref:"table",staticClass:"mt-1",attrs:{id:"blocks-table",striped:"",hover:"",responsive:"",busy:t.isBusy2,fields:t.template_blocks_fields,items:t.template_blocks_items},scopedSlots:t._u([{key:"cell(block.image)",fn:function(e){return[e.value?a("b-img",{attrs:{src:e.value.file||e.value,fluid:"",alt:"Responsive image"}}):t._e()]}}])})],1)],1),a("hr",{staticClass:"my-3"})]},proxy:!0},{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPageBlockNew",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPageBlockEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,block_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},If=[],Nf={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/blocks/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,fields:["id",{key:"block.name",label:"Block"},{key:"block.image",label:"Image"},"section",{key:"block.description",label:"Description"},"order",{key:"is_active",label:"Active"},"actions"],files:["block.image"],ordering:"section",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"block__name"},{text:"Section",value:"section"},{text:"Description",value:"block__description"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Page blocks",template_blocks_fields:[{key:"block.name",label:"Block"},{key:"block.image",label:"Image"},{key:"section"},{key:"order"},{key:"block.description",label:"Description"}],isBusy2:!0,template_blocks_items:[]}},methods:{getTemplateBlocks(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/";this.axios.get(t).then(t=>{let e=t.data.base_template.id,a="/api/editorial-board/templates/"+e+"/blocks/";this.axios.get(a).then(t=>{this.template_blocks_items=t.data,this.isBusy2=!1})})}},mounted(){this.getTemplateBlocks()}},Wf=Nf,Ff=Object(v["a"])(Wf,Df,If,!1,null,null,null),Rf=Ff.exports,Bf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files}})],1)],1)],1)])],1)])},Af=[],Xf={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{page:parseInt(this.$route.params.page_id)},files:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/blocks/form/"}},methods:{updateMedia(t){let e="/api/editorial-board/templates/blocks/"+t+"/";this.axios.get(e).then(t=>{this.$set(this.files,"block",t.data.image)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/blocks/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page block added successfully",dismissable:!0}),this.$router.push({name:"WebpathPageBlocks",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},watch:{"form.block":function(t,e){this.updateMedia(t)}}},Hf=Xf,qf=Object(v["a"])(Hf,Bf,Af,!1,null,null,null),Yf=qf.exports,Vf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPageBlockLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,block_id:t.block_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files}})],1)],1)],1)])],1)])},Gf=[],Uf={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,block_id:this.$route.params.block_id,form:{},files:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/blocks/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"block"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.$set(this.files,"block",t.block.image),this.page_title=t.block.name},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/blocks/"+this.block_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.block_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.block_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},updateMedia(t){let e="/api/editorial-board/templates/blocks/"+t+"/";this.axios.get(e).then(t=>{this.files.block=t.data.image})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/blocks/"+this.block_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.block.name,this.alerts.push({variant:"success",message:"page block edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/blocks/"+this.block_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page block removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPageBlocks",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page block?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)},watch:{"form.block":function(t,e){t&&t!=e&&this.updateMedia(t),t||(this.files.block="")}}},Jf=Uf,Qf=Object(v["a"])(Jf,Vf,Gf,!1,null,null,null),Kf=Qf.exports,Zf=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},tg=[],eg={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/blocks/"+this.$route.params.block_id+"/logs/",page_title:"Page block logs"}}},ag=eg,ig=Object(v["a"])(ag,Zf,tg,!1,null,null,null),sg=ig.exports,rg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPageHeadingNew",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPageHeadingEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,heading_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},og=[],lg={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/headings/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,fields:["id","title","description","order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Title",value:"title"},{text:"Description",value:"description"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Page headings"}}},ng=lg,dg=Object(v["a"])(ng,rg,og,!1,null,null,null),cg=dg.exports,ug=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},mg=[],pg={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{page:parseInt(this.$route.params.page_id)},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/headings/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/headings/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page heading added successfully",dismissable:!0}),this.$router.push({name:"WebpathPageHeadings",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},hg=pg,_g=Object(v["a"])(hg,ug,mg,!1,null,null,null),bg=_g.exports,fg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPageHeadingLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,heading_id:t.heading_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1),a("router-link",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPageHeadingLocalizations",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,heading_id:t.heading_id}}}},[a("b-icon",{attrs:{icon:"flag",variant:"secondary"}}),t._v(" Localizations ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},gg=[],vg={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,heading_id:this.$route.params.heading_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/headings/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.name},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/headings/"+this.heading_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.heading_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.heading_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/headings/"+this.heading_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"page heading edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/headings/"+this.heading_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page heading removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPageHeadings",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page heading?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},kg=vg,Cg=Object(v["a"])(kg,fg,gg,!1,null,null,null),wg=Cg.exports,$g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},yg=[],xg={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/headings/"+this.$route.params.heading_id+"/logs/",page_title:"Page heading logs"}}},Sg=xg,jg=Object(v["a"])(Sg,$g,yg,!1,null,null,null),Lg=jg.exports,zg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPageHeadingLocalizationNew",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,heading_id:t.heading_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPageHeadingLocalizationEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,heading_id:t.heading_id,localization_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},Eg=[],Og={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/headings/"+this.$route.params.heading_id+"/localizations/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,heading_id:this.$route.params.heading_id,fields:["id","language","title","description",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Language",value:"language"},{text:"Title",value:"title"},{text:"Description",value:"description"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Page heading localizations"}}},Pg=Og,Mg=Object(v["a"])(Pg,zg,Eg,!1,null,null,null),Tg=Mg.exports,Dg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Ig=[],Ng={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,heading_id:this.$route.params.heading_id,form:{heading:parseInt(this.$route.params.heading_id)},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/headings/"+this.$route.params.heading_id+"/localizations/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/headings/"+this.$route.params.heading_id+"/localizations/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page heading localization added successfully",dismissable:!0}),this.$router.push({name:"WebpathPageHeadings",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,heading_id:this.heading_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Wg=Ng,Fg=Object(v["a"])(Wg,Dg,Ig,!1,null,null,null),Rg=Fg.exports,Bg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPageHeadingLocalizationLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,heading_id:t.heading_id,localization_id:t.localization_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Ag=[],Xg={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,heading_id:this.$route.params.heading_id,localization_id:this.$route.params.localization_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/headings/"+this.$route.params.heading_id+"/localizations/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.name},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/headings/"+this.heading_id+"/localizations/"+this.localization_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.localization_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.localization_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/headings/"+this.heading_id+"/localization/"+this.localization_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"page heading localization edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/headings/"+this.heading_id+"/localizations/"+this.localization_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page heading localization removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPageHeadingLocalizations",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,heading_id:this.heading_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page heading localization?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},Hg=Xg,qg=Object(v["a"])(Hg,Bg,Ag,!1,null,null,null),Yg=qg.exports,Vg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Gg=[],Ug={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/headings/"+this.$route.params.heading_id+"/localizations/"+this.$route.params.localization_id+"/logs/",page_title:"Page heading localization logs"}}},Jg=Ug,Qg=Object(v["a"])(Jg,Vg,Gg,!1,null,null,null),Kg=Qg.exports,Zg=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1,showIsActive:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPageLinkNew",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPageLinkEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,link_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},tv=[],ev={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/links/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,fields:["id","name","url","order","actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Order",value:"order"},{text:"URL",value:"url"},{text:"State",value:"is_active"}],page_title:"Page links"}}},av=ev,iv=Object(v["a"])(av,Zg,tv,!1,null,null,null),sv=iv.exports,rv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},ov=[],lv={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{page:parseInt(this.$route.params.page_id)},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/links/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/links/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page link added successfully",dismissable:!0}),this.$router.push({name:"WebpathPageLinks",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},nv=lv,dv=Object(v["a"])(nv,rv,ov,!1,null,null,null),cv=dv.exports,uv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPageLinkLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,link_id:t.link_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},mv=[],pv={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,link_id:this.$route.params.link_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/links/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.name},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/links/"+this.link_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.link_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.link_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/links/"+this.link_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.name,this.alerts.push({variant:"success",message:"page link edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/links/"+this.link_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page link removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPageLinks",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page link?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},hv=pv,_v=Object(v["a"])(hv,uv,mv,!1,null,null,null),bv=_v.exports,fv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},gv=[],vv={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/links/"+this.$route.params.link_id+"/logs/",page_title:"Page link logs"}}},kv=vv,Cv=Object(v["a"])(kv,fv,gv,!1,null,null,null),wv=Cv.exports,$v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPageLocalizationNew",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPageLocalizationEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,localization_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},yv=[],xv={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/localizations/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,fields:["id","language","title",{key:"is_active",sortable:!0},"actions"],ordering_list:[{text:"Id",value:"id"},{text:"Language",value:"language"},{text:"Title",value:"title"},{text:"State",value:"is_active"}],page_title:"Page localizations"}}},Sv=xv,jv=Object(v["a"])(Sv,$v,yv,!1,null,null,null),Lv=jv.exports,zv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},Ev=[],Ov={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{page:parseInt(this.$route.params.page_id)},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/localizations/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/localizations/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page localization added successfully",dismissable:!0}),this.$router.push({name:"WebpathPageLocalizations",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Pv=Ov,Mv=Object(v["a"])(Pv,zv,Ev,!1,null,null,null),Tv=Mv.exports,Dv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPageLocalizationLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,localization_id:t.localization_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,rich_text_fields:t.rich_text_fields}})],1)],1)],1)])],1)])},Iv=[],Nv={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,localization_id:this.$route.params.localization_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/localizations/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))this.$set(this.form,e,a);this.page_title=t.localization.title},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/localizations/"+this.localization_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.localization_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.localization_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/localizations/"+this.localization_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.localization.title,this.alerts.push({variant:"success",message:"page localization edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/localizations/"+this.localization_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page localization removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPageLocalizations",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page localization?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},Wv=Nv,Fv=Object(v["a"])(Wv,Dv,Iv,!1,null,null,null),Rv=Fv.exports,Bv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Av=[],Xv={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/localizations/"+this.$route.params.localization_id+"/logs/",page_title:"Page localization logs"}}},Hv=Xv,qv=Object(v["a"])(Hv,Bv,Av,!1,null,null,null),Yv=qv.exports,Vv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,files:t.files,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPageMediaNew",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"MediaEdit",params:{media_id:e.item.media.id}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to media ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPageMediaEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,media_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},Gv=[],Uv={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/medias/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,fields:["id",{key:"media.title",label:"Media"},{key:"media.file",label:"File"},"order",{key:"is_active",label:"Active"},"actions"],files:["media.file"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Title",value:"media__title"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Page media"}}},Jv=Uv,Qv=Object(v["a"])(Jv,Vv,Gv,!1,null,null,null),Kv=Qv.exports,Zv=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields,files:t.files}})],1)],1)],1)])],1)])},tk=[],ek={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{page:parseInt(this.$route.params.page_id)},files:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/medias/form/",add_modal_fields:{media:this.$router.resolve({name:"MediaNew"}).href}}},methods:{updateMedia(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.$set(this.files,"media",t.data.file)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/medias/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page media added successfully",dismissable:!0}),this.$router.push({name:"WebpathPageMedia",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},watch:{"form.media":function(t,e){this.updateMedia(t)}}},ak=ek,ik=Object(v["a"])(ak,Zv,tk,!1,null,null,null),sk=ik.exports,rk=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPageMediaLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,media_id:t.media_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields,files:t.files}})],1)],1)],1)])],1)])},ok=[],lk={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,media_id:this.$route.params.media_id,form:{},files:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/medias/form/",add_modal_fields:{media:this.$router.resolve({name:"MediaNew"}).href},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"media"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.$set(this.files,"media",t.media.file),this.page_title=t.media.title,this.$refs.form.getOptionsFromParent("media",[{text:t.media.title,value:t.media.id}])},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/medias/"+this.media_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.media_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.media_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},updateMedia(t){let e="/api/editorial-board/medias/"+t+"/";this.axios.get(e).then(t=>{this.files.media=t.data.file})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/medias/"+this.media_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page media edited successfully",dismissable:!0}),this.page_title=t.data.media.title,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/medias/"+this.media_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page media removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPageMedia",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page media?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)},watch:{"form.media":function(t,e){t&&t!=e&&this.updateMedia(t),t||(this.files.media="")}}},nk=lk,dk=Object(v["a"])(nk,rk,ok,!1,null,null,null),ck=dk.exports,uk=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},mk=[],pk={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/medias/"+this.$route.params.media_id+"/logs/",page_title:"Page media logs"}}},hk=pk,_k=Object(v["a"])(hk,uk,mk,!1,null,null,null),bk=_k.exports,fk=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPageMediaCollectionNew",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"MediaCollectionEdit",params:{collection_id:e.item.collection.id}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to media collection ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPageMediaCollectionEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,collection_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},gk=[],vk={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/media-collections/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,fields:["id",{key:"collection.name",label:"Collection"},{key:"collection.description",label:"Description"},"order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"collection__name"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Page media collections"}}},kk=vk,Ck=Object(v["a"])(kk,fk,gk,!1,null,null,null),wk=Ck.exports,$k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},yk=[],xk={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{page:parseInt(this.$route.params.page_id)},files:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/media-collections/form/",add_modal_fields:{collection:this.$router.resolve({name:"MediaCollectionNew"}).href}}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/media-collections/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page media collection added successfully",dismissable:!0}),this.$router.push({name:"WebpathPageMediaCollections",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Sk=xk,jk=Object(v["a"])(Sk,$k,yk,!1,null,null,null),Lk=jk.exports,zk=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPageMediaCollectionLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,collection_id:t.collection_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,files:t.files,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},Ek=[],Ok={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,collection_id:this.$route.params.collection_id,form:{},files:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/media-collections/form/",add_modal_fields:{collection:this.$router.resolve({name:"MediaCollectionNew"}).href},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"collection"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.page_title=t.collection.name,this.$refs.form.getOptionsFromParent("collection",[{text:t.collection.name,value:t.collection.id}])},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/media-collections/"+this.collection_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.collection_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.collection_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/media-collections/"+this.collection_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page media collection edited successfully",dismissable:!0}),this.page_title=t.data.collection.name,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/medias/"+this.media_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page media collection removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPageMediaCollections",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page media collection?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},Pk=Ok,Mk=Object(v["a"])(Pk,zk,Ek,!1,null,null,null),Tk=Mk.exports,Dk=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},Ik=[],Nk={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/media-collections/"+this.$route.params.collection_id+"/logs/",page_title:"Page media collection logs"}}},Wk=Nk,Fk=Object(v["a"])(Wk,Dk,Ik,!1,null,null,null),Rk=Fk.exports,Bk=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPageMenuNew",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"MenuEdit",params:{menu_id:e.item.menu.id}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to menu ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPageMenuEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,menu_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},Ak=[],Xk={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/menus/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,fields:["id",{key:"menu.name",label:"Menu"},"section","order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Menu name",value:"menu__name"},{text:"Section",value:"section"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Page menu"}}},Hk=Xk,qk=Object(v["a"])(Hk,Bk,Ak,!1,null,null,null),Yk=qk.exports,Vk=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},Gk=[],Uk={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{page:parseInt(this.$route.params.page_id)},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/menus/form/",add_modal_fields:{menu:this.$router.resolve({name:"MenuNew"}).href}}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/menus/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page menu added successfully",dismissable:!0}),this.$router.push({name:"WebpathPageMenus",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},Jk=Uk,Qk=Object(v["a"])(Jk,Vk,Gk,!1,null,null,null),Kk=Qk.exports,Zk=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPageMenuLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,menu_id:t.menu_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{fields:t.fields,form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},tC=[],eC={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,menu_id:this.$route.params.menu_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/menus/form/",add_modal_fields:{menu:this.$router.resolve({name:"MenuNew"}).href},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"menu"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.page_title=t.menu.name,this.$refs.form.getOptionsFromParent("menu",[{text:t.menu.name,value:t.menu.id}])},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/menus/"+this.menu_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.menu_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.menu_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/menus/"+this.menu_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.menu.name,this.alerts.push({variant:"success",message:"page menu edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/menus/"+this.menu_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page menu removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPageMenus",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page menu?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},aC=eC,iC=Object(v["a"])(aC,Zk,tC,!1,null,null,null),sC=iC.exports,rC=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},oC=[],lC={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/menus/"+this.$route.params.menu_id+"/logs/",page_title:"Page menu logs"}}},nC=lC,dC=Object(v["a"])(nC,rC,oC,!1,null,null,null),cC=dC.exports,uC=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPagePublicationNew",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"PublicationEdit",params:{publication_id:e.item.publication.id}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to publication ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPagePublicationEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,publication_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},mC=[],pC={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/publications/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,fields:["id",{key:"publication.name",label:"Name"},{key:"publication.title",label:"Title"},"order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Publication name",value:"publication__name"},{text:"Publication title",value:"publication__title"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Page publications"}}},hC=pC,_C=Object(v["a"])(hC,uC,mC,!1,null,null,null),bC=_C.exports,fC=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},gC=[],vC={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{page:parseInt(this.$route.params.page_id)},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/publications/form/",add_modal_fields:{publication:this.$router.resolve({name:"PublicationNew"}).href}}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/publications/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page publication added successfully",dismissable:!0}),this.$router.push({name:"WebpathPagePublications",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},kC=vC,CC=Object(v["a"])(kC,fC,gC,!1,null,null,null),wC=CC.exports,$C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPagePublicationLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,publication_id:t.publication_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},yC=[],xC={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,publication_id:this.$route.params.publication_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/publications/form/",add_modal_fields:{publication:this.$router.resolve({name:"PublicationNew"}).href},page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"publication"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.page_title=t.publication.full_name,this.$refs.form.getOptionsFromParent("publication",[{text:t.publication.full_name,value:t.publication.id}])},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/publications/"+this.publication_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.publication_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.publication_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/publications/"+this.publication_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page publication edited successfully",dismissable:!0}),this.page_title=t.data.publication.full_name,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/publications/"+this.publication_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page publication removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPagePublications",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page publication?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},SC=xC,jC=Object(v["a"])(SC,$C,yC,!1,null,null,null),LC=jC.exports,zC=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},EC=[],OC={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/publications/"+this.$route.params.publication_id+"/logs/",page_title:"Page publication logs"}}},PC=OC,MC=Object(v["a"])(PC,zC,EC,!1,null,null,null),TC=MC.exports,DC=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathPageRelatedNew",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"WebpathPageEdit",params:{site_id:e.item.related_page.webpath.site,webpath_id:e.item.related_page.webpath.id,page_id:e.item.related_page.id}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to page ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathPageRelatedEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,related_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},IC=[],NC={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/related/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,fields:["id",{key:"related_page.name",label:"Related"},{key:"related_page.title",label:"Title"},"order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Page name",value:"related_page__name"},{text:"Page title",value:"related_page__title"},{text:"Order",value:"order"},{text:"State",value:"is_active"}],page_title:"Page related"}}},WC=NC,FC=Object(v["a"])(WC,DC,IC,!1,null,null,null),RC=FC.exports,BC=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},AC=[],XC={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,form:{page:parseInt(this.$route.params.page_id)},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/related/form/"}},methods:{onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/related/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page related added successfully",dismissable:!0}),this.$router.push({name:"WebpathPageRelated",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}}},HC=XC,qC=Object(v["a"])(HC,BC,AC,!1,null,null,null),YC=qC.exports,VC=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathPageRelatedLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,page_id:t.page_id,related_id:t.related_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},GC=[],UC={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,page_id:this.$route.params.page_id,related_id:this.$route.params.related_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/related/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"related_page"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.page_title=t.related_page.name},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/related/"+this.related_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.related_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.related_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/related/"+this.related_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.page_title=t.data.related_page.name,this.alerts.push({variant:"success",message:"page related edited successfully",dismissable:!0}),this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/pages/"+this.page_id+"/related/"+this.related_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"page related removed successfully",dismissable:!0}),this.$router.push({name:"WebpathPageRelated",params:{site_id:this.site_id,webpath_id:this.webpath_id,page_id:this.page_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete page related?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},JC=UC,QC=Object(v["a"])(JC,VC,GC,!1,null,null,null),KC=QC.exports,ZC=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},tw=[],ew={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/pages/"+this.$route.params.page_id+"/related/"+this.$route.params.related_id+"/logs/",page_title:"Page related logs"}}},aw=ew,iw=Object(v["a"])(aw,ZC,tw,!1,null,null,null),sw=iw.exports,rw=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1},scopedSlots:t._u([{key:"add_new",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"WebpathCalendarNew",params:{site_id:t.site_id,webpath_id:t.webpath_id}}}},[a("b-icon",{attrs:{icon:"plus-circle",variant:"white"}}),t._v(" Add new ")],1)]},proxy:!0},{key:"actions",fn:function(e){return[a("router-link",{staticClass:"btn btn-block btn-sm btn-outline-secondary",attrs:{to:{name:"CalendarEdit",params:{calendar_id:e.item.calendar.id}}}},[a("b-icon",{attrs:{icon:"arrow-right-circle",variant:"secondary"}}),t._v(" Go to calendar ")],1),a("router-link",{staticClass:"btn btn-block btn-sm btn-info",attrs:{to:{name:"WebpathCalendarEdit",params:{site_id:t.site_id,webpath_id:t.webpath_id,calendar_id:e.item.id}}}},[a("b-icon",{attrs:{icon:"pencil-square",variant:"white"}}),t._v(" Edit ")],1)]}}])})},ow=[],lw={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/calendar-contexts/",site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,fields:["id",{key:"calendar.name",label:"Calendar"},"order",{key:"is_active",label:"Active"},"actions"],ordering:"order",ordering_list:[{text:"Id",value:"id"},{text:"Calendar",value:"calendar__name"},{text:"State",value:"is_active"}],page_title:"Webpath calendars"}}},nw=lw,dw=Object(v["a"])(nw,rw,ow,!1,null,null,null),cw=dw.exports,uw=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",{attrs:{title:"New"}},[a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source,add_modal_fields:t.add_modal_fields}})],1)],1)],1)])],1)])},mw=[],pw={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,form:{webpath:parseInt(this.$route.params.webpath_id)},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/calendar-contexts/form/",add_modal_fields:{calendar:this.$router.resolve({name:"CalendarNew"}).href}}},methods:{getWebpath(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/options/"+this.webpath_id+"/";this.axios.get(t).then(t=>{this.$refs.form.getOptionsFromParent("webpath",[{text:t.data.text,value:t.data.value}])})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/calendar-contexts/";t.preventDefault(),this.axios.post(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"webpath calendar added successfully",dismissable:!0}),this.$router.push({name:"WebpathCalendars",params:{site_id:this.site_id,webpath_id:this.webpath_id,alerts:this.alerts}})}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})}},mounted(){this.getWebpath()}},hw=pw,_w=Object(v["a"])(hw,uw,mw,!1,null,null,null),bw=_w.exports,fw=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("Breadcrumbs"),a("stacked-alerts",{attrs:{alerts:t.alerts,redis_alert:t.redis_alert}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("b-card",[a("div",{staticClass:"clearfix mb-5"},[a("div",{staticClass:"pull-left"},[a("router-link",{staticClass:"btn btn-sm btn-outline-secondary mx-md-1",attrs:{to:{name:"WebpathCalendarLogs",params:{site_id:t.site_id,webpath_id:t.webpath_id,calendar_id:t.calendar_id}}}},[a("b-icon",{attrs:{icon:"clock-history",variant:"secondary"}}),t._v(" History ")],1)],1),a("div",{staticClass:"pull-right"},[a("b-button",{staticClass:"mx-md-1 btn-sm",attrs:{variant:"danger"},on:{click:function(e){return t.deleteModal()}}},[a("b-icon",{attrs:{icon:"trash",variant:"white"}}),t._v(" Delete ")],1)],1)]),a("b-card-title",[t._v(t._s(t.page_title))]),a("b-card-text",[a("django-form",{ref:"form",attrs:{form:t.form,submit:t.onSubmit,form_source:t.form_source}})],1)],1)],1)])],1)])},gw=[],vw={data(){return{alerts:[],site_id:this.$route.params.site_id,webpath_id:this.$route.params.webpath_id,calendar_id:this.$route.params.calendar_id,form:{},form_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/calendar-contexts/form/",page_title:"",redis_alert:null,interval:null}},methods:{setData(t){for(const[e,a]of Object.entries(t))"calendar"==e||"webpath"==e?this.$set(this.form,e,a.id):this.$set(this.form,e,a);this.page_title=t.calendar.name,this.$refs.form.getOptionsFromParent("webpath",[{text:t.webpath.full_name,value:t.webpath.id}]),this.$refs.form.getOptionsFromParent("calendar",[{text:t.calendar.name,value:t.calendar.id}])},getItem(){let t="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/calendar-contexts/"+this.calendar_id+"/";this.axios.get(t).then(e=>{this.setData(e.data);let a=e.data.object_content_type,i="/api/editorial-board/redis-lock/set/",s={content_type_id:a,object_id:this.calendar_id};this.axios.post(i,s,{headers:{"X-CSRFToken":this.$csrftoken}}),this.$user_is_active(i,s),this.interval=setInterval(()=>{this.$checkForRedisLocks(a,this.calendar_id),this.redis_alert&&this.axios.get(t).then(t=>{this.setData(t.data)})},this.$redis_ttl)})},onSubmit(t){this.$refs.form.loading=!0;let e="/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/calendar-contexts/"+this.publication_id+"/";t.preventDefault(),this.axios.patch(e,this.form,{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"webpath calendar edited successfully",dismissable:!0}),this.webpath_id=t.data.webpath.id,this.$router.push({name:"WebpathPublicationEdit",params:{site_id:this.site_id,webpath_id:this.webpath_id,calendar_id:this.calendar_id,alerts:this.alerts}}).catch(()=>{}),this.page_title=t.data.calendar.name,this.$refs.form.loading=!1}).catch(t=>{for(var e in t.response.data)this.alerts.push({variant:"danger",message:e+": "+t.response.data[e],dismissable:!0});this.$refs.form.loading=!1})},remove(){this.axios.delete("/api/editorial-board/sites/"+this.site_id+"/webpaths/"+this.webpath_id+"/calendar-contexts/"+this.publication_id+"/",{headers:{"X-CSRFToken":this.$csrftoken}}).then(t=>{this.alerts.push({variant:"success",message:"webpath calendar removed successfully",dismissable:!0}),this.$router.push({name:"WebpathCalendars",params:{site_id:this.site_id,webpath_id:this.webpath_id,alerts:this.alerts}})}).catch(t=>{this.alerts.push({variant:"danger",message:t.response.data.detail,dismissable:!0})})},deleteModal(){this.$bvModal.msgBoxConfirm("Do you want really delete webpath calendar?",{title:"Please Confirm",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1}).then(t=>{t&&this.remove()})}},mounted(){this.getItem()},beforeDestroy(){clearInterval(this.interval)}},kw=vw,Cw=Object(v["a"])(kw,fw,gw,!1,null,null,null),ww=Cw.exports,$w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ObjectLogs",{attrs:{api_source:t.api_source,page_title:t.page_title}})},yw=[],xw={components:{ObjectLogs:Ye},data(){return{api_source:"/api/editorial-board/sites/"+this.$route.params.site_id+"/webpaths/"+this.$route.params.webpath_id+"/calendar-contexts/"+this.$route.params.calendar_id+"/logs/",page_title:"Webpath calendar logs"}}},Sw=xw,jw=Object(v["a"])(Sw,$w,yw,!1,null,null,null),Lw=jw.exports,zw=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CompleteTable",{attrs:{api_source:t.api_source,fields:t.fields,files:t.files,ordering:t.ordering,ordering_list:t.ordering_list,page_title:t.page_title,showCreatedBy:!1,showIsActive:!1}})},Ew=[],Ow={components:{CompleteTable:we},data(){return{api_source:"/api/editorial-board/templates/blocks/",fields:["id","name",{key:"type_friendly",label:"Type"},"image","description"],files:["image"],ordering:"type",ordering_list:[{text:"Id",value:"id"},{text:"Name",value:"name"},{text:"Type",value:"type"},{text:"Description",value:"description"}],page_title:"Template blocks"}}},Pw=Ow,Mw=Object(v["a"])(Pw,zw,Ew,!1,null,null,null),Tw=Mw.exports;const Dw=[{path:"/",component:Bt,redirect:"/dashboard",children:[{path:"dashboard",name:"Dashboard",component:wn,meta:{breadcrumb:"Dashboard"}},{path:"websites",name:"Websites",component:qh,meta:{breadcrumb:{label:"Websites",parent:"Dashboard"}}},{path:"websites/:site_id/webpaths",name:"Webpaths",component:Qh,meta:{breadcrumb:{label:"Webpaths",parent:"Websites"}}},{path:"websites/:site_id/webpaths/new",name:"WebpathNew",component:i_,meta:{breadcrumb:{label:"New",parent:"Webpaths"}}},{path:"websites/:site_id/webpaths/:webpath_id/edit",name:"WebpathEdit",component:d_,meta:{breadcrumb(){return{label:this.$route.params.webpath_id.toString(),parent:"Webpaths"}}}},{path:"websites/:site_id/webpaths/:webpath_id/edit/clone",name:"WebpathClone",component:__,meta:{breadcrumb(){return{label:"Clone",parent:"WebpathEdit"}}}},{path:"websites/:site_id/webpaths/:webpath_id/logs",name:"WebpathLogs",component:C_,meta:{breadcrumb:{label:"Logs",parent:"WebpathEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/locks",name:"WebpathLocks",component:j_,meta:{breadcrumb:{label:"Locks",parent:"WebpathEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/locks/new",name:"WebpathLockNew",component:M_,meta:{breadcrumb:{label:"New",parent:"WebpathLocks"}}},{path:"websites/:site_id/webpaths/:webpath_id/news",name:"WebpathPublications",component:F_,meta:{breadcrumb:{label:"News",parent:"WebpathEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/news/new",name:"WebpathPublicationNew",component:q_,meta:{breadcrumb:{label:"New",parent:"WebpathPublications"}}},{path:"websites/:site_id/webpaths/:webpath_id/news/:publication_id/edit",name:"WebpathPublicationEdit",component:Q_,meta:{breadcrumb(){return{label:this.$route.params.publication_id.toString(),parent:"WebpathPublications"}}}},{path:"websites/:site_id/webpaths/:webpath_id/news/:publication_id/logs",name:"WebpathPublicationLogs",component:ib,meta:{breadcrumb:{label:"Logs",parent:"WebpathPublicationEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages",name:"WebpathPages",component:db,meta:{breadcrumb:{label:"Pages",parent:"WebpathEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/edit",name:"WebpathPageEdit",component:Cb,meta:{breadcrumb(){return{label:this.$route.params.page_id.toString(),parent:"WebpathPages"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/new",name:"WebpathPageNew",component:_b,meta:{breadcrumb:{label:"New",parent:"WebpathPages"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/logs",name:"WebpathPageLogs",component:jb,meta:{breadcrumb:{label:"Logs",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/locks",name:"WebpathPageLocks",component:Mb,meta:{breadcrumb:{label:"Locks",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/locks/new",name:"WebpathPageLockNew",component:Fb,meta:{breadcrumb:{label:"New",parent:"WebpathPageLocks"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/blocks",name:"WebpathPageBlocks",component:Rf,meta:{breadcrumb:{label:"Blocks",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/blocks/new",name:"WebpathPageBlockNew",component:Yf,meta:{breadcrumb:{label:"New",parent:"WebpathPageBlocks"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/blocks/:block_id/edit",name:"WebpathPageBlockEdit",component:Kf,meta:{breadcrumb(){return{label:this.$route.params.block_id.toString(),parent:"WebpathPageBlocks"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/blocks/:block_id/logs",name:"WebpathPageBlockLogs",component:sg,meta:{breadcrumb:{label:"Logs",parent:"WebpathPageBlockEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/carousels",name:"WebpathPageCarousels",component:qb,meta:{breadcrumb:{label:"Carousels",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/carousels/new",name:"WebpathPageCarouselNew",component:Qb,meta:{breadcrumb:{label:"New",parent:"WebpathPageCarousels"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/carousels/:carousel_id/edit",name:"WebpathPageCarouselEdit",component:sf,meta:{breadcrumb(){return{label:this.$route.params.carousel_id.toString(),parent:"WebpathPageCarousels"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/carousels/:carousel_id/logs",name:"WebpathPageCarouselLogs",component:cf,meta:{breadcrumb(){return{label:this.$route.params.carousel_id.toString(),parent:"WebpathPageCarousels"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/contacts",name:"WebpathPageContacts",component:bf,meta:{breadcrumb:{label:"Contacts",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/contacts/new",name:"WebpathPageContactNew",component:wf,meta:{breadcrumb:{label:"New",parent:"WebpathPageContacts"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/contacts/:contact_id/edit",name:"WebpathPageContactEdit",component:Lf,meta:{breadcrumb(){return{label:this.$route.params.contact_id.toString(),parent:"WebpathPageContacts"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/contacts/:contact_id/logs",name:"WebpathPageContactLogs",component:Tf,meta:{breadcrumb:{label:"Logs",parent:"WebpathPageContactEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/localizations",name:"WebpathPageLocalizations",component:Lv,meta:{breadcrumb:{label:"Localizations",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/localizations/new",name:"WebpathPageLocalizationNew",component:Tv,meta:{breadcrumb:{label:"New",parent:"WebpathPageLocalizations"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/localizations/:localization_id/edit",name:"WebpathPageLocalizationEdit",component:Rv,meta:{breadcrumb(){return{label:this.$route.params.localization_id.toString(),parent:"WebpathPageLocalizations"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/localizations/:localization_id/logs",name:"WebpathPageLocalizationLogs",component:Yv,meta:{breadcrumb:{label:"Logs",parent:"WebpathPageLocalizationEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/headings",name:"WebpathPageHeadings",component:cg,meta:{breadcrumb:{label:"Headings",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/headings/new",name:"WebpathPageHeadingNew",component:bg,meta:{breadcrumb:{label:"New",parent:"WebpathPageHeadings"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/headings/:heading_id/edit",name:"WebpathPageHeadingEdit",component:wg,meta:{breadcrumb(){return{label:this.$route.params.heading_id.toString(),parent:"WebpathPageHeadings"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/headings/:heading_id/logs",name:"WebpathPageHeadingLogs",component:Lg,meta:{breadcrumb:{label:"Logs",parent:"WebpathPageHeadingEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/headings/:heading_id/localizations",name:"WebpathPageHeadingLocalizations",component:Tg,meta:{breadcrumb:{label:"Localizations",parent:"WebpathPageHeadingEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/headings/:heading_id/localizations/new",name:"WebpathPageHeadingLocalizationNew",component:Rg,meta:{breadcrumb:{label:"New",parent:"WebpathPageHeadingLocalizations"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/headings/:heading_id/localizations/:localization_id/edit",name:"WebpathPageHeadingLocalizationEdit",component:Yg,meta:{breadcrumb(){return{label:this.$route.params.localization_id.toString(),parent:"WebpathPageHeadingLocalizations"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/headings/:heading_id/localizations/:localization_id/logs",name:"WebpathPageHeadingLocalizationLogs",component:Kg,meta:{breadcrumb:{label:"Logs",parent:"WebpathPageHeadingLocalizationEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/links",name:"WebpathPageLinks",component:sv,meta:{breadcrumb:{label:"Links",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/links/new",name:"WebpathPageLinkNew",component:cv,meta:{breadcrumb:{label:"New",parent:"WebpathPageLinks"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/links/:link_id/edit",name:"WebpathPageLinkEdit",component:bv,meta:{breadcrumb(){return{label:this.$route.params.link_id.toString(),parent:"WebpathPageLinks"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/links/:link_id/logs",name:"WebpathPageLinkLogs",component:wv,meta:{breadcrumb:{label:"Logs",parent:"WebpathPageLinkEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/media",name:"WebpathPageMedia",component:Kv,meta:{breadcrumb:{label:"Media",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/media/new",name:"WebpathPageMediaNew",component:sk,meta:{breadcrumb:{label:"New",parent:"WebpathPageMedia"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/media/:media_id/edit",name:"WebpathPageMediaEdit",component:ck,meta:{breadcrumb(){return{label:this.$route.params.media_id.toString(),parent:"WebpathPageMedia"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/media/:media_id/logs",name:"WebpathPageMediaLogs",component:bk,meta:{breadcrumb:{label:"Logs",parent:"WebpathPageMediaEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/media-collections",name:"WebpathPageMediaCollections",component:wk,meta:{breadcrumb:{label:"Media Collections",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/media-collections/new",name:"WebpathPageMediaCollectionNew",component:Lk,meta:{breadcrumb:{label:"New",parent:"WebpathPageMediaCollections"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/media-collections/:collection_id/edit",name:"WebpathPageMediaCollectionEdit",component:Tk,meta:{breadcrumb(){return{label:this.$route.params.collection_id.toString(),parent:"WebpathPageMediaCollections"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/media-collecitons/:collection_id/logs",name:"WebpathPageMediaCollectionLogs",component:Rk,meta:{breadcrumb:{label:"Logs",parent:"WebpathPageMediaCollectionEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/menus",name:"WebpathPageMenus",component:Yk,meta:{breadcrumb:{label:"Menus",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/menus/new",name:"WebpathPageMenuNew",component:Kk,meta:{breadcrumb:{label:"New",parent:"WebpathPageMenus"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/menus/:menu_id/edit",name:"WebpathPageMenuEdit",component:sC,meta:{breadcrumb(){return{label:this.$route.params.menu_id.toString(),parent:"WebpathPageMenus"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/menus/:menu_id/logs",name:"WebpathPageMenuLogs",component:cC,meta:{breadcrumb:{label:"Logs",parent:"WebpathPageMenuEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/publications",name:"WebpathPagePublications",component:bC,meta:{breadcrumb:{label:"Publications",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/publications/new",name:"WebpathPagePublicationNew",component:wC,meta:{breadcrumb:{label:"New",parent:"WebpathPagePublications"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/publications/:publication_id/edit",name:"WebpathPagePublicationEdit",component:LC,meta:{breadcrumb(){return{label:this.$route.params.publication_id.toString(),parent:"WebpathPagePublications"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/publications/:publication_id/logs",name:"WebpathPagePublicationLogs",component:TC,meta:{breadcrumb:{label:"Logs",parent:"WebpathPagePublicationEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/related",name:"WebpathPageRelated",component:RC,meta:{breadcrumb:{label:"Related",parent:"WebpathPageEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/related/new",name:"WebpathPageRelatedNew",component:YC,meta:{breadcrumb:{label:"New",parent:"WebpathPageRelated"}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/related/:related_id/edit",name:"WebpathPageRelatedEdit",component:KC,meta:{breadcrumb(){return{label:this.$route.params.related_id.toString(),parent:"WebpathPageRelated"}}}},{path:"websites/:site_id/webpaths/:webpath_id/pages/:page_id/related/:related_id/logs",name:"WebpathPageRelatedLogs",component:sw,meta:{breadcrumb:{label:"Logs",parent:"WebpathPageRelatedEdit"}}},{path:"media",name:"Media",component:Mn,meta:{breadcrumb:{label:"Media",parent:"Dashboard"}}},{path:"media/new",name:"MediaNew",component:qn,meta:{breadcrumb:{label:"New",parent:"Media"}}},{path:"media/:media_id/edit",name:"MediaEdit",component:Fn,meta:{breadcrumb(){return{label:this.$route.params.media_id.toString(),parent:"Media"}}}},{path:"media/:media_id/logs",name:"MediaLogs",component:Qn,meta:{breadcrumb:{label:"Logs",parent:"MediaEdit"}}},{path:"media/:media_id/locks",name:"MediaLocks",component:id,meta:{breadcrumb:{label:"Locks",parent:"MediaEdit"}}},{path:"media/:media_id/locks/new",name:"MediaLockNew",component:dd,meta:{breadcrumb:{label:"New",parent:"MediaLocks"}}},{path:"media-collections",name:"MediaCollections",component:_d,meta:{breadcrumb:{label:"Media collections",parent:"Dashboard"}}},{path:"media-collections/new",name:"MediaCollectionNew",component:Cd,meta:{breadcrumb:{label:"new",parent:"MediaCollections"}}},{path:"media-collections/:collection_id/edit",name:"MediaCollectionEdit",component:jd,meta:{breadcrumb(){return{label:this.$route.params.collection_id.toString(),parent:"MediaCollections"}}}},{path:"media-collections/:collection_id/logs",name:"MediaCollectionLogs",component:Md,meta:{breadcrumb:{label:"Logs",parent:"MediaCollectionEdit"}}},{path:"media-collections/:collection_id/locks",name:"MediaCollectionLocks",component:dc,meta:{breadcrumb:{label:"Locks",parent:"MediaCollectionEdit"}}},{path:"media-collections/:collection_id/locks/new",name:"MediaCollectionLockNew",component:_c,meta:{breadcrumb:{label:"New",parent:"MediaCollectionLocks"}}},{path:"media-collections/:collection_id/items",name:"MediaCollectionItems",component:Fd,meta:{breadcrumb:{label:"Items",parent:"MediaCollectionEdit"}}},{path:"media-collections/:collection_id/items/new",name:"MediaCollectionItemNew",component:qd,meta:{breadcrumb:{label:"new",parent:"MediaCollectionItems"}}},{path:"media-collections/:collection_id/items/:collection_item_id/edit",name:"MediaCollectionItemEdit",component:Qd,meta:{breadcrumb(){return{label:this.$route.params.collection_item_id.toString(),parent:"MediaCollectionItems"}}}},{path:"media-collections/:collection_id/items/:collection_item_id/logs",name:"MediaCollectionItemLogs",component:ic,meta:{breadcrumb:{label:"Logs",parent:"MediaCollectionItemEdit"}}},{path:"menus",name:"Menus",component:Cc,meta:{breadcrumb:{label:"Menus",parent:"Dashboard"}}},{path:"menus/new",name:"MenuNew",component:Mc,meta:{breadcrumb:{label:"New",parent:"Menus"}}},{path:"menus/:menu_id/edit",name:"MenuEdit",component:jc,meta:{breadcrumb(){return{label:this.$route.params.menu_id.toString(),parent:"Menus"}}}},{path:"menus/:menu_id/logs",name:"MenuLogs",component:Fc,meta:{breadcrumb:{label:"Logs",parent:"MenuEdit"}}},{path:"menus/:menu_id/locks",name:"MenuLocks",component:qc,meta:{breadcrumb:{label:"Locks",parent:"MenuEdit"}}},{path:"menus/:menu_id/locks/new",name:"MenuLockNew",component:Qc,meta:{breadcrumb:{label:"New",parent:"MenuLocks"}}},{path:"menus/:menu_id/items",name:"MenuItems",component:iu,meta:{breadcrumb:{label:"Menu items",parent:"MenuEdit"}}},{path:"menus/:menu_id/items/new",name:"MenuItemNew",component:_u,meta:{breadcrumb:{label:"New",parent:"MenuItems"}}},{path:"menus/:menu_id/items/:menu_item_id/edit",name:"MenuItemEdit",component:du,meta:{breadcrumb(){return{label:this.$route.params.menu_item_id.toString(),parent:"MenuItems"}}}},{path:"menus/:menu_id/items/:menu_item_id/logs",name:"MenuItemLogs",component:Cu,meta:{breadcrumb:{label:"Logs",parent:"MenuItemEdit"}}},{path:"menus/:menu_id/items/:menu_item_id/localizations",name:"MenuItemLocalizations",component:ju,meta:{breadcrumb:{label:"Localizations",parent:"MenuItemEdit"}}},{path:"menus/:menu_id/items/:menu_item_id/localizations/new",name:"MenuItemLocalizationNew",component:Fu,meta:{breadcrumb:{label:"New",parent:"MenuItemLocalizations"}}},{path:"menus/:menu_id/items/:menu_item_id/localizations/:menu_item_localization_id/edit",name:"MenuItemLocalizationEdit",component:Mu,meta:{breadcrumb(){return{label:this.$route.params.menu_item_localization_id.toString(),parent:"MenuItemLocalizations"}}}},{path:"menus/:menu_id/items/:menu_item_id/localizations/:menu_item_localization_id/logs",name:"MenuItemLocalizationLogs",component:qu,meta:{breadcrumb:{label:"Logs",parent:"MenuItemLocalizationEdit"}}},{path:"carousels",name:"Carousels",component:Ji,meta:{breadcrumb:{label:"Carousels",parent:"Dashboard"}}},{path:"carousels/new",name:"CarouselNew",component:as,meta:{breadcrumb:{label:"New",parent:"Carousels"}}},{path:"carousels/:carousel_id/edit",name:"CarouselEdit",component:ns,meta:{breadcrumb(){return{label:this.$route.params.carousel_id.toString(),parent:"Carousels"}}}},{path:"carousels/:carousel_id/items",name:"CarouselItems",component:ks,meta:{breadcrumb:{label:"Items",parent:"CarouselEdit"}}},{path:"carousels/:carousel_id/items/new",name:"CarouselItemNew",component:Ss,meta:{breadcrumb:{label:"New",parent:"CarouselItems"}}},{path:"carousels/:carousel_id/items/:carousel_item_id/edit",name:"CarouselItemEdit",component:Ps,meta:{breadcrumb(){return{label:this.$route.params.carousel_item_id.toString(),parent:"CarouselItems"}}}},{path:"carousels/:carousel_id/items/:carousel_item_id/logs",name:"CarouselItemLogs",component:Ws,meta:{breadcrumb:{label:"Logs",parent:"CarouselItemEdit"}}},{path:"carousels/:carousel_id/items/:carousel_item_id/links",name:"CarouselItemLinks",component:Hs,meta:{breadcrumb:{label:"Links",parent:"CarouselItemEdit"}}},{path:"carousels/:carousel_id/items/:carousel_item_id/links/new",name:"CarouselItemLinkNew",component:Js,meta:{breadcrumb:{label:"New",parent:"CarouselItemLinks"}}},{path:"carousels/:carousel_id/items/:carousel_item_id/links/:carousel_item_link_id/edit",name:"CarouselItemLinkEdit",component:ar,meta:{breadcrumb(){return{label:this.$route.params.carousel_item_link_id.toString(),parent:"CarouselItemLinks"}}}},{path:"carousels/:carousel_id/items/:carousel_item_id/links/:carousel_item_link_id/logs",name:"CarouselItemLinkLogs",component:nr,meta:{breadcrumb:{label:"Logs",parent:"CarouselItemLinkEdit"}}},{path:"carousels/:carousel_id/items/:carousel_item_id/localizations",name:"CarouselItemLocalizations",component:hr,meta:{breadcrumb:{label:"Localizations",parent:"CarouselItemEdit"}}},{path:"carousels/:carousel_id/items/:carousel_item_id/localizations/new",name:"CarouselItemLocalizationNew",component:kr,meta:{breadcrumb:{label:"New",parent:"CarouselItemLocalizations"}}},{path:"carousels/:carousel_id/items/:carousel_item_id/localizations/:carousel_item_localization_id/edit",name:"CarouselItemLocalizationEdit",component:Sr,meta:{breadcrumb(){return{label:this.$route.params.carousel_item_localization_id.toString(),parent:"CarouselItemLocalizations"}}}},{path:"carousels/:carousel_id/items/:carousel_item_id/localizations/:carousel_item_localization_id/logs",name:"CarouselItemLocalizationLogs",component:Pr,meta:{breadcrumb:{label:"Logs",parent:"CarouselItemLocalizationEdit"}}},{path:"carousels/:carousel_id/items/:carousel_item_id/links/:carousel_item_link_id/localizations",name:"CarouselItemLinkLocalizations",component:Wr,meta:{breadcrumb:{label:"Localizations",parent:"CarouselItemLinkEdit"}}},{path:"carousels/:carousel_id/items/:carousel_item_id/links/:carousel_item_link_id/localizations/new",name:"CarouselItemLinkLocalizationNew",component:Hr,meta:{breadcrumb:{label:"New",parent:"CarouselItemLinkLocalizations"}}},{path:"carousels/:carousel_id/items/:carousel_item_id/links/:carousel_item_link_id/localizations/:carousel_item_link_localization_id/edit",name:"CarouselItemLinkLocalizationEdit",component:Jr,meta:{breadcrumb(){return{label:this.$route.params.carousel_item_link_localization_id.toString(),parent:"CarouselItemLinkLocalizations"}}}},{path:"carousels/:carousel_id/items/:carousel_item_id/links/:carousel_item_link_id/localizations/:carousel_item_link_localization_id/logs",name:"CarouselItemLinkLocalizationLogs",component:ao,meta:{breadcrumb:{label:"Logs",parent:"CarouselItemLinkLocalizationEdit"}}},{path:"carousels/:carousel_id/logs",name:"CarouselLogs",component:hs,meta:{breadcrumb:{label:"Logs",parent:"CarouselEdit"}}},{path:"carousels/:carousel_id/locks",name:"CarouselLocks",component:no,meta:{breadcrumb:{label:"Locks",parent:"CarouselEdit"}}},{path:"carousels/:carousel_id/locks/new",name:"CarouselLockNew",component:_o,meta:{breadcrumb:{label:"New",parent:"CarouselLocks"}}},{path:"publications",name:"Publications",component:Qu,meta:{breadcrumb:{label:"Publications",parent:"Dashboard"}}},{path:"publications/new",name:"PublicationNew",component:im,meta:{breadcrumb:{label:"New",parent:"Publications"}}},{path:"publications/:publication_id/edit",name:"PublicationEdit",component:dm,meta:{breadcrumb(){return{label:this.$route.params.publication_id.toString(),parent:"Publications"}}}},{path:"publications/:publication_id/logs",name:"PublicationLogs",component:_m,meta:{breadcrumb:{label:"Logs",parent:"PublicationEdit"}}},{path:"publications/:publication_id/locks",name:"PublicationLocks",component:Cm,meta:{breadcrumb:{label:"Locks",parent:"PublicationEdit"}}},{path:"publications/:publication_id/locks/new",name:"PublicationLockNew",component:jm,meta:{breadcrumb:{label:"New",parent:"PublicationLocks"}}},{path:"publications/:publication_id/attachments",name:"PublicationAttachments",component:Mm,meta:{breadcrumb:{label:"Attachments",parent:"PublicationEdit"}}},{path:"publications/:publication_id/attachments/new",name:"PublicationAttachmentNew",component:Fm,meta:{breadcrumb:{label:"New",parent:"PublicationAttachments"}}},{path:"publications/:publication_id/attachments/:attachment_id/edit",name:"PublicationAttachmentEdit",component:qm,meta:{breadcrumb(){return{label:this.$route.params.attachment_id.toString(),parent:"PublicationAttachments"}}}},{path:"publications/:publication_id/attachments/:attachment_id/logs",name:"PublicationAttachmentLogs",component:Qm,meta:{breadcrumb:{label:"Logs",parent:"PublicationAttachmentEdit"}}},{path:"publications/:publication_id/links",name:"PublicationLinks",component:jp,meta:{breadcrumb:{label:"Links",parent:"PublicationEdit"}}},{path:"publications/:publication_id/links/new",name:"PublicationLinkNew",component:Mp,meta:{breadcrumb:{label:"New",parent:"PublicationLinks"}}},{path:"publications/:publication_id/links/:link_id/edit",name:"PublicationLinkEdit",component:Fp,meta:{breadcrumb(){return{label:this.$route.params.link_id.toString(),parent:"PublicationLinks"}}}},{path:"publications/:publication_id/links/:link_id/logs",name:"PublicationLinkLogs",component:qp,meta:{breadcrumb:{label:"Logs",parent:"PublicationLinkEdit"}}},{path:"publications/:publication_id/media-collections",name:"PublicationMediaCollections",component:ip,meta:{breadcrumb:{label:"Media collections",parent:"PublicationEdit"}}},{path:"publications/:publication_id/media-collections/new",name:"PublicationMediaCollectionNew",component:dp,meta:{breadcrumb:{label:"New",parent:"PublicationMediaCollections"}}},{path:"publications/:publication_id/media-collections/:collection_id/edit",name:"PublicationMediaCollectionEdit",component:_p,meta:{breadcrumb(){return{label:this.$route.params.collection_id.toString(),parent:"PublicationMediaCollections"}}}},{path:"publications/:publication_id/media-collections/:collection_id/logs",name:"PublicationMediaCollectionLogs",component:Cp,meta:{breadcrumb:{label:"Logs",parent:"PublicationMediaCollectionEdit"}}},{path:"publications/:publication_id/localizations",name:"PublicationLocalizations",component:Qp,meta:{breadcrumb:{label:"Localizations",parent:"PublicationEdit"}}},{path:"publications/:publication_id/localizations/new",name:"PublicationLocalizationNew",component:ih,meta:{breadcrumb:{label:"New",parent:"PublicationLocalizations"}}},{path:"publications/:publication_id/localizations/:localization_id/edit",name:"PublicationLocalizationEdit",component:dh,meta:{breadcrumb(){return{label:this.$route.params.localization_id.toString(),parent:"PublicationLocalizations"}}}},{path:"publications/:publication_id/localizations/:localization_id/logs",name:"PublicationLocalizationLogs",component:_h,meta:{breadcrumb:{label:"Logs",parent:"PublicationLocalizationEdit"}}},{path:"publications/:publication_id/related",name:"PublicationRelated",component:Ch,meta:{breadcrumb:{label:"Related",parent:"PublicationEdit"}}},{path:"publications/:publication_id/related/new",name:"PublicationRelatedNew",component:jh,meta:{breadcrumb:{label:"New",parent:"PublicationRelated"}}},{path:"publications/:publication_id/related/:related_id/edit",name:"PublicationRelatedEdit",component:Mh,meta:{breadcrumb(){return{label:this.$route.params.related_id.toString(),parent:"PublicationRelated"}}}},{path:"publications/:publication_id/related/:related_id/logs",name:"PublicationRelatedLogs",component:Fh,meta:{breadcrumb:{label:"Logs",parent:"PublicationRelatedEdit"}}},{path:"blocks",name:"TemplateBlocks",component:Tw,meta:{breadcrumb:{label:"Blocks",parent:"Dashboard"}}},{path:"contacts",name:"Contacts",component:Co,meta:{breadcrumb:{label:"Contacts",parent:"Dashboard"}}},{path:"contacts/new",name:"ContactNew",component:jo,meta:{breadcrumb:{label:"New",parent:"Contacts"}}},{path:"contacts/:contact_id/edit",name:"ContactEdit",component:Mo,meta:{breadcrumb(){return{label:this.$route.params.contact_id.toString(),parent:"Contacts"}}}},{path:"contacts/:contact_id/logs",name:"ContactLogs",component:Fo,meta:{breadcrumb:{label:"Logs",parent:"ContactEdit"}}},{path:"contacts/:contact_id/locks",name:"ContactLocks",component:qo,meta:{breadcrumb:{label:"Locks",parent:"ContactEdit"}}},{path:"contacts/:contact_id/locks/new",name:"ContactLockNew",component:Qo,meta:{breadcrumb:{label:"New",parent:"ContactLocks"}}},{path:"contacts/:contact_id/infos",name:"ContactInfos",component:il,meta:{breadcrumb:{label:"Contact Informations",parent:"ContactEdit"}}},{path:"contacts/:contact_id/infos/new",name:"ContactInfoNew",component:dl,meta:{breadcrumb:{label:"New",parent:"ContactInfos"}}},{path:"contacts/:contact_id/infos/:contact_info_id/edit",name:"ContactInfoEdit",component:_l,meta:{breadcrumb(){return{label:this.$route.params.contact_info_id.toString(),parent:"ContactInfos"}}}},{path:"contacts/:contact_id/infos/:contact_info_id/logs",name:"ContactInfoLogs",component:Cl,meta:{breadcrumb:{label:"Logs",parent:"ContactInfoEdit"}}},{path:"contacts/:contact_id/localizations",name:"ContactLocalizations",component:jl,meta:{breadcrumb:{label:"Contact Localizations",parent:"ContactEdit"}}},{path:"contacts/:contact_id/localizations/new",name:"ContactLocalizationNew",component:Ml,meta:{breadcrumb:{label:"New",parent:"ContactLocalizations"}}},{path:"contacts/:contact_id/localization/:localization_id/edit",name:"ContactLocalizationEdit",component:Fl,meta:{breadcrumb(){return{label:this.$route.params.localization_id.toString(),parent:"ContactLocalizations"}}}},{path:"contacts/:contact_id/localizations/:localization_id/logs",name:"ContactLocalizationLogs",component:ql,meta:{breadcrumb:{label:"Logs",parent:"ContactLocalizationEdit"}}},{path:"contacts/:contact_id/infos/:contact_info_id/localizations",name:"ContactInfoLocalizations",component:Ql,meta:{breadcrumb:{label:"Contact Localizations",parent:"ContactInfoEdit"}}},{path:"contacts/:contact_id/infos/:contact_info_id/localizations/new",name:"ContactInfoLocalizationNew",component:sn,meta:{breadcrumb:{label:"New",parent:"ContactInfoLocalizations"}}},{path:"contacts/:contact_id/infos/:contact_info_id/localization/:localization_id/edit",name:"ContactInfoLocalizationEdit",component:cn,meta:{breadcrumb(){return{label:this.$route.params.localization_id.toString(),parent:"ContactInfoLocalizations"}}}},{path:"contacts/:contact_id/infos/:contact_info_id/localizations/:localization_id/logs",name:"ContactInfoLocalizationLogs",component:bn,meta:{breadcrumb:{label:"Logs",parent:"ContactInfoLocalizationEdit"}}},{path:"calendars",name:"Calendars",component:Se,meta:{breadcrumb:{label:"Calendars",parent:"Dashboard"}}},{path:"calendars/new",name:"CalendarNew",component:Pe,meta:{breadcrumb:{label:"New",parent:"Calendars"}}},{path:"calendars/:calendar_id/edit",name:"CalendarEdit",component:We,meta:{breadcrumb(){return{label:this.$route.params.calendar_id.toString(),parent:"Calendars"}}}},{path:"calendars/:calendar_id/locks",name:"CalendarLocks",component:na,meta:{breadcrumb:{label:"Locks",parent:"CalendarEdit"}}},{path:"calendars/:calendar_id/locks/new",name:"CalendarLockNew",component:ha,meta:{breadcrumb:{label:"New",parent:"CalendarLocks"}}},{path:"calendars/:calendar_id/logs",name:"CalendarLogs",component:Je,meta:{breadcrumb:{label:"Logs",parent:"CalendarEdit"}}},{path:"calendars/:calendar_id/events",name:"CalendarEvents",component:ka,meta:{breadcrumb:{label:"Events",parent:"CalendarEdit"}}},{path:"calendars/:calendar_id/items/new",name:"CalendarEventNew",component:Sa,meta:{breadcrumb:{label:"New",parent:"CalendarEvents"}}},{path:"calendars/:calendar_id/events/:calendar_event_id/edit",name:"CalendarEventEdit",component:Pa,meta:{breadcrumb(){return{label:this.$route.params.calendar_event_id.toString(),parent:"CalendarEvents"}}}},{path:"calendars/:calendar_id/events/:calendar_event_id/logs",name:"CalendarEventLogs",component:Wa,meta:{breadcrumb:{label:"Logs",parent:"CalendarEventEdit"}}},{path:"events",name:"Events",component:hi,meta:{breadcrumb:{label:"Events",parent:"Dashboard"}}},{path:"events/new",name:"EventNew",component:ki,meta:{breadcrumb:{label:"New",parent:"Events"}}},{path:"events/:event_id/edit",name:"EventEdit",component:Si,meta:{breadcrumb(){return{label:this.$route.params.event_id.toString(),parent:"Events"}}}},{path:"events/:event_id/locks",name:"EventLocks",component:Hi,meta:{breadcrumb:{label:"Locks",parent:"EventEdit"}}},{path:"events/:event_id/locks/new",name:"EventLockNew",component:Wi,meta:{breadcrumb:{label:"New",parent:"EventLocks"}}},{path:"events/:event_id/logs",name:"EventLogs",component:Pi,meta:{breadcrumb:{label:"Logs",parent:"EventEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/calendars",name:"WebpathCalendars",component:cw,meta:{breadcrumb:{label:"Calendars",parent:"WebpathEdit"}}},{path:"websites/:site_id/webpaths/:webpath_id/calendars/new",name:"WebpathCalendarNew",component:bw,meta:{breadcrumb:{label:"New",parent:"WebpathCalendars"}}},{path:"websites/:site_id/webpaths/:webpath_id/calendars/:calendar_id/edit",name:"WebpathCalendarEdit",component:ww,meta:{breadcrumb(){return{label:this.$route.params.calendar_id.toString(),parent:"WebpathCalendars"}}}},{path:"websites/:site_id/webpaths/:webpath_id/calendars/:calendar_id/logs",name:"WebpathCalendarLogs",component:Lw,meta:{breadcrumb:{label:"Logs",parent:"WebpathCalendarEdit"}}},{path:"calendars/:calendar_id/localizations",name:"CalendarLocalizations",component:Ha,meta:{breadcrumb:{label:"Localizations",parent:"CalendarEdit"}}},{path:"calendars/:calendar_id/localizations/new",name:"CalendarLocalizationNew",component:Ja,meta:{breadcrumb:{label:"New",parent:"CalendarLocalizations"}}},{path:"calendars/:calendar_id/localizations/:calendar_localization_id/edit",name:"CalendarLocalizationEdit",component:ai,meta:{breadcrumb(){return{label:this.$route.params.calendar_localization_id.toString(),parent:"CalendarLocalizations"}}}},{path:"calendars/:calendar_id/localizations/:calendar_localization_id/logs",name:"CalendarLocalizationLogs",component:ni,meta:{breadcrumb:{label:"Logs",parent:"CalendarLocalizationEdit"}}}]},{path:"*",component:Yt}];var Iw=Dw,Nw=a("9483");Object(Nw["a"])("/static/unicms_editorial_board_vue/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});a("6dfc");
/*!

 =========================================================
 * Vue Light Bootstrap Dashboard - v2.0.0 (Bootstrap 4)
 =========================================================

 * Product Page: http://www.creative-tim.com/product/light-bootstrap-dashboard
 * Copyright 2019 Creative Tim (http://www.creative-tim.com)
 * Licensed under MIT (https://github.com/creativetimofficial/light-bootstrap-dashboard/blob/master/LICENSE.md)

 =========================================================

 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

 */i["default"].use(l.a,r.a),i["default"].use(p.a),i["default"].use(h["a"]),i["default"].use(n["a"]),i["default"].use(d["a"]),i["default"].use(ut),i["default"].component("v-select",u.a);const Ww=new h["a"]({routes:Iw,linkActiveClass:"nav-item active",scrollBehavior:t=>t.hash?{selector:t.hash}:{x:0,y:0}});function Fw(t){let e=t.file||t;return null!=e.match(/\.(jpeg|jpg|gif|png|webp)$/)}function Rw(t){if(!t)return null;let e=new Date(t),a={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};return e.toLocaleDateString(void 0,a)}function Bw(t){let e=t+"=",a=document.cookie.split(";");for(let i=0;i<a.length;i++){let t=a[i];while(" "==t.charAt(0))t=t.substring(1,t.length);if(0==t.indexOf(e))return t.substring(e.length,t.length)}return null}function Aw(t,e){this.axios.get("/api/editorial-board/redis-lock/"+t+"/"+e+"/").then(t=>{0!=Object.entries(t.data).length?null==this.redis_alert&&(this.redis_alert={variant:"warning",message:t.data.message,dismissable:!1}):this.redis_alert=null})}function Xw(t,e){let a=this,i=function(){a.axios.post(t,e,{headers:{"X-CSRFToken":a.$csrftoken}})};document.addEventListener("keyup",i,!1),document.addEventListener("mousedown",i,!1)}i["default"].prototype.$is_image=Fw,i["default"].prototype.$date_formatter=Rw,i["default"].prototype.$csrftoken=Bw("csrftoken"),i["default"].prototype.$checkForRedisLocks=Aw,i["default"].prototype.$user_is_active=Xw,i["default"].prototype.$redis_ttl=5e3,new i["default"]({el:"#app",render:t=>t(C),router:Ww})},"5c0b":function(t,e,a){"use strict";a("9c0c")},"78e8":function(t,e,a){"use strict";a("c653")},"9c0c":function(t,e,a){},"9c5e":function(t,e,a){"use strict";a("dcfb")},c653:function(t,e,a){},c6e3:function(t,e,a){},cd1f:function(t,e,a){},dcfb:function(t,e,a){},e1b9:function(t,e,a){}});
//# sourceMappingURL=app.b3c69fcb.js.map